(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[832],{8849:function(e,t,s){Promise.resolve().then(s.bind(s,9757))},9757:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return z}});var l=s(7437),a=s(2869),n=s(2265),o=s(6640),r=s(4508);let i=o.fC;o.xz;let c=o.h_,d=n.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,l.jsx)(o.aV,{className:(0,r.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a,ref:t})});d.displayName=o.aV.displayName;let u=n.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,l.jsxs)(c,{children:[(0,l.jsx)(d,{}),(0,l.jsx)(o.VY,{ref:t,className:(0,r.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...a})]})});u.displayName=o.VY.displayName;let x=e=>{let{className:t,...s}=e;return(0,l.jsx)("div",{className:(0,r.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...s})};x.displayName="AlertDialogHeader";let m=e=>{let{className:t,...s}=e;return(0,l.jsx)("div",{className:(0,r.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};m.displayName="AlertDialogFooter";let f=n.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,l.jsx)(o.Dx,{ref:t,className:(0,r.cn)("text-lg font-semibold",s),...a})});f.displayName=o.Dx.displayName;let h=n.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,l.jsx)(o.dk,{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",s),...a})});h.displayName=o.dk.displayName;let p=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,l.jsx)(o.aU,{ref:t,className:(0,r.cn)((0,a.d)(),s),...n})});p.displayName=o.aU.displayName;let g=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,l.jsx)(o.$j,{ref:t,className:(0,r.cn)((0,a.d)({variant:"outline"}),"mt-2 sm:mt-0",s),...n})});g.displayName=o.$j.displayName;var v=s(2451),N=s(1817),j=s(6595),b=s(9322),w=s(3774),I=s(1178),y=s(8997),P=s(4970),A=s(5868),k=s(2208),E=s(7769),L=s(8930),R=s(759),C=s(4196),S=s(1839),_=s(7648),F=s(3145),T=s(9376),O=s(7471),D=s(1190),M=s(6023),U=s(9116),Y=s(8685),B=s(6652),Z=s(6281),G=s(4438),K=s(9441);function z(e){let{params:t}=e,{t:s}=(0,R.Z)(),o=(0,T.useRouter)(),{getEmail:r,authInfo:c}=(0,Z.a)(),{userParams:d}=(0,O.h)(async e=>null,null),[z,X]=(0,n.useState)(!1),[H,W]=(0,n.useState)(!1),[q,J]=(0,n.useState)([]),[V,$]=(0,n.useState)(null),[Q,ee]=(0,n.useState)(null),[et,es]=(0,n.useState)(null),[el,ea]=(0,n.useState)(!1),[en,eo]=(0,n.useState)(null),[er,ei]=(0,n.useState)(!1),[ec,ed]=(0,n.useState)(null),[eu,ex]=(0,n.useState)(!1),[em,ef]=(0,n.useState)(null),[eh,ep]=(0,n.useState)([]),[eg,ev]=(0,n.useState)(0),[eN,ej]=(0,n.useState)({}),eb=(0,n.useRef)(!1),ew=(0,n.useRef)(!1),eI=t.userId;console.log(eI);let[ey,eP]=(0,n.useState)({posts:[],pagination:{currentPage:Y.ZX.DEFAULT_PAGE,totalPages:1,totalItems:0,hasNext:!1,hasPrev:!1}}),[eA,ek]=(0,n.useState)(!1),[eE,eL]=(0,n.useState)(null),[eR,eC]=(0,n.useState)(null),[eS,e_]=(0,n.useState)(!1),[eF,eT]=(0,n.useState)(null),eO=async()=>{if(eI){ek(!0),eL(null);try{let e=(null==d?void 0:d.token)||(null==c?void 0:c.token)||"",t=await (0,D.tL)({userId:eI,token:e,page:Y.ZX.DEFAULT_PAGE,limit:Y.ZX.DEFAULT_LIMIT});t.success&&t.data?eP(t.data):eL(s("personalPage.loadPostsFailed"))}catch(e){console.error("加载作品数据失败:",e),eL(s("personalPage.loadPostsError"))}finally{ek(!1)}}},eD=async()=>{if(eI){e_(!0),eT(null);try{let e;let t=(null==d?void 0:d.token)||(null==c?void 0:c.token)||"",l=(null==c?void 0:c.userId)||"";eI===l?(e=await (0,M.bG)({email:(null==c?void 0:c.email)||"",userId:eI,token:t})).success&&e.data?eC(e):eT(s("personalPage.loadUserInfoFailed")):(e=await (0,M.Yt)({userId:l,token:t,otherId:eI})).success&&e?(console.log(e),eC(e),$(e.userData),X(e.isFollow)):eT(s("personalPage.loadUserInfoFailed"))}catch(e){console.error("加载用户信息失败:",e),eT(s("personalPage.loadUserInfoError"))}finally{e_(!1)}}};(0,n.useEffect)(()=>{eI&&!eb.current&&(eb.current=!0,eI===(null==c?void 0:c.userId)&&eO())},[eI,null==c?void 0:c.userId]),(0,n.useEffect)(()=>{eI&&!ew.current&&(ew.current=!0,eD())},[eI]),(0,n.useEffect)(()=>{eR&&eR.success&&(eR.data&&$(eR.data),void 0!==eR.isFollow&&X(eR.isFollow),eI!==(null==c?void 0:c.userId)&&eR.proDataList&&(J(eR.proDataList),console.log(eR.proDataList,"userInfoData.proDataList"),eP({posts:eR.proDataList,pagination:{currentPage:1,totalPages:1,totalItems:eR.proDataList.length,hasNext:!1,hasPrev:!1}})))},[eR,eI,null==c?void 0:c.userId]),(0,n.useEffect)(()=>{(null==ey?void 0:ey.posts)&&eI===(null==c?void 0:c.userId)&&J(ey.posts)},[ey,eI,null==c?void 0:c.userId]),(0,n.useEffect)(()=>{if(q.length>0){let e={};q.forEach(t=>{e[t.id]={isLove:!1,isCollect:!1,likes:t.likes||0,bookmarks:t.collects||0,isInteracting:!1}}),ej(e)}},[q]);let eM=async()=>{if(c&&eI&&!H){W(!0);try{let e=await (0,M.V4)({userId:c.userId,token:c.token,authorId:eI,isCollect:z?1:0});if(e.success){if(X(!z),G.A.success(z?s("personalPage.unfollowSuccess"):s("personalPage.followSuccess")),eI!==(null==c?void 0:c.userId))try{let e=await (0,M.Yt)({userId:c.userId,token:c.token,otherId:eI});e.success&&e&&(eC(e),e.userData&&$(e.userData),void 0!==e.isFollow&&X(e.isFollow),e.proDataList&&(J(e.proDataList),eP({posts:e.proDataList,pagination:{currentPage:1,totalPages:1,totalItems:e.proDataList.length,hasNext:!1,hasPrev:!1}})))}catch(e){console.error("刷新用户信息失败:",e)}}else e.message&&e.message.includes("用户不存在")?G.A.error(s("personalPage.userNotFound")||"用户不存在"):G.A.error(e.message||(z?s("personalPage.unfollowError"):s("personalPage.followError")))}catch(e){console.error("关注操作失败:",e),G.A.error(e instanceof Error?e.message:z?s("personalPage.unfollowProcessError"):s("personalPage.followProcessError"))}finally{W(!1)}}},eU=e=>{ed(e),ei(!0)},eY=()=>{ei(!1),ed(null)},eB=(e,t,s)=>{ep(t),ev(s),ef(e),ex(!0)},eZ=()=>{ex(!1),ef(null),ep([]),ev(0)},eG=()=>{if(eg>0){let e=eg-1;ev(e),ef(eh[e])}},eK=()=>{if(eg<eh.length-1){let e=eg+1;ev(e),ef(eh[e])}},ez=e=>{eo(e),ea(!0)},eX=async()=>{if(!c||!en){G.A.error(s("personalPage.authInfoMissing"));return}ee(en),ea(!1);try{let e=await (0,M.jX)({userId:c.userId,token:c.token,id:en});e.success?(G.A.success(s("personalPage.deleteSuccess")),eI===(null==c?void 0:c.userId)&&await eO()):G.A.error(e.message||s("personalPage.deleteError"))}catch(e){console.error("删除作品失败:",e),G.A.error(e instanceof Error?e.message:s("personalPage.deleteProcessError"))}finally{ee(null),eo(null)}},eH=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!c){G.A.error(s("personalPage.authInfoMissing"));return}let l=1===t?0:1,a=1===l?s("personalPage.hide"):s("personalPage.show");es(e);try{let t=await (0,M.aw)({userId:c.userId,token:c.token,id:e,status:l});t.success?(G.A.success(1===l?s("personalPage.hideSuccess"):s("personalPage.showSuccess")),eI===(null==c?void 0:c.userId)&&await eO()):G.A.error(t.message||(1===l?s("personalPage.hideError"):s("personalPage.showError")))}catch(e){console.error("".concat(a,"作品失败:"),e),G.A.error(e instanceof Error?e.message:1===l?s("personalPage.hideProcessError"):s("personalPage.showProcessError"))}finally{es(null)}},eW=async(e,t)=>{if(t.stopPropagation(),!(null==c?void 0:c.userId)||!(null==c?void 0:c.token)){o.push("/login");return}let l=eN[e];if(null==l||!l.isInteracting){ej(t=>({...t,[e]:{...t[e],isInteracting:!0}}));try{(await (0,M.v1)({userId:c.userId,token:c.token,productId:e,isLove:(null==l?void 0:l.isLove)?0:1})).success?ej(t=>{var s,l,a;return{...t,[e]:{...t[e],isLove:!(null===(s=t[e])||void 0===s?void 0:s.isLove),likes:((null===(l=t[e])||void 0===l?void 0:l.likes)||0)+((null===(a=t[e])||void 0===a?void 0:a.isLove)?-1:1),isInteracting:!1}}}):G.A.error(s("square.operationFailed"))}catch(e){console.error("点赞失败:",e),G.A.error(s("square.operationFailed"))}finally{ej(t=>({...t,[e]:{...t[e],isInteracting:!1}}))}}},eq=async(e,t)=>{if(t.stopPropagation(),!(null==c?void 0:c.userId)||!(null==c?void 0:c.token)){o.push("/login");return}let l=eN[e];if(null==l||!l.isInteracting){ej(t=>({...t,[e]:{...t[e],isInteracting:!0}}));try{(await (0,M.gQ)({userId:c.userId,token:c.token,productId:e,isCollect:(null==l?void 0:l.isCollect)?0:1})).success?ej(t=>{var s,l,a;return{...t,[e]:{...t[e],isCollect:!(null===(s=t[e])||void 0===s?void 0:s.isCollect),bookmarks:((null===(l=t[e])||void 0===l?void 0:l.bookmarks)||0)+((null===(a=t[e])||void 0===a?void 0:a.isCollect)?-1:1),isInteracting:!1}}}):G.A.error(s("square.operationFailed"))}catch(e){console.error("收藏失败:",e),G.A.error(s("square.operationFailed"))}finally{ej(t=>({...t,[e]:{...t[e],isInteracting:!1}}))}}},eJ=async(e,t)=>{if(t.stopPropagation(),(null==c?void 0:c.userId)&&(null==c?void 0:c.token))try{await (0,M._Z)({userId:c.userId,token:c.token,productId:e.id}),J(t=>t.map(t=>t.id===e.id?{...t,shares:(t.shares||0)+1}:t))}catch(e){console.error("分享接口调用失败:",e)}try{navigator.share?await navigator.share({title:e.title||"Untitled",text:e.description||"",url:"".concat(window.location.origin,"/square/").concat(e.id)}):(await navigator.clipboard.writeText("".concat(window.location.origin,"/square/").concat(e.id)),G.A.success(s("square.linkCopied")))}catch(e){"AbortError"!==e.name&&console.error("分享失败:",e)}};return null==c||c.userId,(0,l.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,l.jsx)("svg",{className:"absolute w-0 h-0",children:(0,l.jsxs)("defs",{children:[(0,l.jsxs)("linearGradient",{id:"bookmark-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,l.jsx)("stop",{offset:"0%",stopColor:"#eab308"}),(0,l.jsx)("stop",{offset:"100%",stopColor:"#f97316"})]}),(0,l.jsxs)("linearGradient",{id:"heart-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,l.jsx)("stop",{offset:"0%",stopColor:"#FD9507"}),(0,l.jsx)("stop",{offset:"100%",stopColor:"#CE14B0"})]})]})}),(0,l.jsxs)("main",{className:" flex min-h-dvh flex-col bg-white",children:[(0,l.jsx)(C.h,{}),(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsxs)("div",{className:(0,B.AK)(Y.iK.LAYOUT.FLEX_BETWEEN,"z-100"),children:[(0,l.jsxs)("div",{className:(0,B.AK)("flex items-center text-[#11295b]",Y.vR.SPACING.GAP_2),children:[(0,l.jsx)(F.default,{src:(0,U.nJ)(null==V?void 0:V.avatar),alt:"User Avatar",width:16,height:16,className:(0,B.AK)(Y.vR.BORDER_RADIUS.ROUNDED_FULL,"w-9 h-9 object-cover")}),(0,l.jsx)("div",{children:(0,l.jsx)("h2",{className:(0,B.AK)("text-sm text-[#0F1728]",Y.vR.COLORS.PRIMARY,Y.vR.FONTS.INTER),children:null==V?void 0:V.nickname})})]}),(0,l.jsx)("div",{className:(0,B.AK)("flex items-center text-[#0F1728]",Y.vR.SPACING.GAP_2),children:(0,l.jsx)(a.z,{variant:"ghost",size:"icon",onClick:()=>{o.back()},children:(0,l.jsx)(v.Z,{className:"h-7 w-7 z-10"})})})]}),eI!==(null==c?void 0:c.userId)&&(0,l.jsx)("div",{className:"flex items-center gap-2 ml-10",style:{zIndex:10},children:(0,l.jsxs)("button",{onClick:eM,disabled:H,className:(0,B.AK)("flex items-center px-2 w-24 h-6 rounded-lg text-sm font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",z?"w-36 text-[#11295b] hover:text-[#11295b] font-poppins font-semibold text-sm":" bg-[#11295b] text-white hover:bg-[#11295b] hover:text-white font-poppins font-semibold text-sm"),children:[H?(0,l.jsx)(N.Z,{className:"h-4 w-4 animate-spin"}):(0,l.jsx)(j.Z,{className:(0,B.AK)("h-4 w-4",z?"mr-1 fill-[#12295B]":" ml-2 mr-1"),fill:z?"currentColor":"none"}),(0,l.jsx)("span",{children:H?s("personalPage.processing"):z?s("personalPage.following"):s("personalPage.follow")})]})}),(0,l.jsxs)("div",{className:"relative flex flex-col gap-3 mt-3",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsxs)("span",{className:"text-sm text-[#0F1728] text-left font-nunito  flex-shrink-0",children:[s("personalPage.brand"),":"]}),(0,l.jsx)("div",{className:"flex items-center gap-2 flex-1 pl-1",children:(null==V?void 0:V.brand)?(null==V?void 0:V.officialsite)?(0,l.jsx)("a",{href:V.officialsite.startsWith("http")?V.officialsite:"https://".concat(V.officialsite),className:"text-[#0F1728] font-nunito underline font-semibold hover:opacity-80",target:"_blank",rel:"noopener noreferrer",children:V.brand}):(0,l.jsx)("span",{className:"text-[#0F1728] text-sm font-nunito font-semibold",children:V.brand}):(0,l.jsx)("span",{className:"text-[#0F1728] text-sm font-nunito font-semibold",children:"--"})})]}),(null==V?void 0:V.brief)&&(0,l.jsxs)("div",{className:"flex items-start w-[70%]",children:[(0,l.jsxs)("span",{className:"text-sm text-[#0F1728] text-left font-nunito flex-shrink-0",children:[s("personalPage.brief"),":"]}),(0,l.jsxs)("div",{className:"flex-1 ml-3 w-full",children:[(0,l.jsx)("p",{className:"text-xs text-[#0F1728] font-inter w-full",children:V.brief}),(null==V?void 0:V.tel)&&(0,l.jsxs)("p",{className:"text-xs text-gray-700 font-inter pt-4 w-full",children:[(0,l.jsxs)("span",{className:"font-semibold mr-1",children:[s("personalPage.customerServiceHotline"),":"]}),null==V?void 0:V.tel]}),(null==V?void 0:V.workHour)&&(0,l.jsxs)("p",{className:"text-xs text-gray-700 font-inter w-full",children:[(0,l.jsxs)("span",{className:"font-semibold mr-1",children:[s("personalPage.workHour"),":"]}),null==V?void 0:V.workHour]}),(null==V?void 0:V.email)&&(0,l.jsxs)("p",{className:"text-xs text-gray-700 font-inter w-full",children:[(0,l.jsxs)("span",{className:"font-semibold mr-1",children:[s("personalPage.email"),":"]}),null==V?void 0:V.email]}),(null==V?void 0:V.address)&&(0,l.jsxs)("p",{className:"text-xs text-gray-700 font-inter w-full",children:[(0,l.jsxs)("span",{className:"font-semibold mr-1",children:[s("personalPage.address"),":"]}),null==V?void 0:V.address]})]})]}),(0,l.jsx)("div",{className:"flex items-center ml-10",style:{zIndex:10},children:(0,l.jsx)("button",{onClick:()=>{var e;return window.open((null==V?void 0:null===(e=V.officialsite)||void 0===e?void 0:e.startsWith("http"))?null==V?void 0:V.officialsite:"https://".concat(null==V?void 0:V.officialsite),"_blank")},className:"flex items-center bg-[#12295B] text-white px-2 w-32 h-6 rounded-lg text-sm transition-all duration-200",children:(0,l.jsx)("span",{className:"text-sm text-white font-poppins font-semibold text-center w-full",children:s("personalPage.online")})})}),(null==V?void 0:V.logo)&&(0,l.jsx)(F.default,{src:(0,U.nJ)(V.logo),alt:"Brand Logo",width:32,height:32,className:"absolute right-2 top-2 flex items-center h-24 w-24  object-cover"}),eI===(null==c?void 0:c.userId)&&(0,l.jsx)(_.default,{href:"/brand-edit",className:"absolute right-2 bottom-[30px] flex items-center hover:opacity-80",style:{zIndex:10},children:(0,l.jsx)(F.default,{src:"/img/edit.png",alt:"Edit",width:5,height:5,className:"h-5 w-5"})})]})]}),(0,l.jsxs)("div",{className:" px-4",children:[(0,l.jsx)("div",{className:" my-4",style:{borderBottom:"1px solid #e5e7eb"}}),(0,l.jsx)("h2",{className:"text-[17px] text-[#0F1728] font-poppins font-semibold",children:s("personalPage.myPosts")}),eA&&(0,l.jsxs)("div",{className:(0,B.AK)(Y.iK.LAYOUT.FLEX_CENTER,Y.vR.SPACING.PY_8),children:[(0,l.jsx)(N.Z,{className:(0,B.AK)(Y.vR.SIZES.ICON_MD,Y.$w.SPIN,Y.vR.COLORS.PRIMARY)}),(0,l.jsx)("span",{className:(0,B.AK)("ml-2 text-[#11295b]",Y.vR.COLORS.PRIMARY,Y.vR.FONTS.NUNITO),children:s("personalPage.loading")})]}),eE&&(0,l.jsxs)("div",{className:(0,B.AK)(Y.iK.LAYOUT.FLEX_CENTER,Y.vR.SPACING.PY_8),children:[(0,l.jsx)(b.Z,{className:(0,B.AK)(Y.vR.SIZES.ICON_MD,Y.vR.COLORS.RED_500)}),(0,l.jsx)("span",{className:(0,B.AK)("ml-2 text-[#11295b]",Y.vR.COLORS.RED_500,Y.vR.FONTS.NUNITO),children:s("personalPage.error")})]}),!eA&&!eE&&0===q.length&&(0,l.jsxs)("div",{className:(0,B.AK)("flex flex-col items-center justify-center text-[#11295b]",Y.vR.SPACING.PY_12),children:[(0,l.jsx)("div",{className:(0,B.AK)("w-16 h-16",Y.vR.COLORS.GRAY_100,Y.vR.BORDER_RADIUS.ROUNDED_FULL,Y.iK.LAYOUT.FLEX_CENTER,Y.vR.SPACING.MB_4),children:(0,l.jsx)(b.Z,{className:(0,B.AK)(Y.vR.SIZES.ICON_XL,Y.vR.COLORS.GRAY_400)})}),(0,l.jsx)("h3",{className:(0,B.AK)(Y.iK.TEXT_SIZES.SUBTITLE,Y.vR.FONT_WEIGHTS.SEMIBOLD,Y.vR.COLORS.PRIMARY,Y.vR.FONTS.NUNITO,Y.vR.SPACING.MB_2),children:s("personalPage.noPosts")}),(0,l.jsx)("p",{className:(0,B.AK)(Y.vR.COLORS.PRIMARY_OPACITY_60,Y.vR.FONTS.INTER,"text-center text-[#11295b]"),children:s("personalPage.noPostsDescription")})]}),!eA&&!eE&&q.length>0&&(0,l.jsx)("div",{className:"flex-1 overflow-y-auto h-[calc(72vh-230px)]",children:(0,l.jsx)("div",{className:"space-y-0",children:q.map((e,t)=>{var a,n,r,i,d,u,x,m,f,h,p,g;return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"bg-white pt-2 cursor-pointer hover:shadow-sm transition-shadow",onClick:()=>o.push("/square/".concat(e.id)),children:[(0,l.jsx)("h3",{className:"text-[#12295B] text-[17px] leading-[34px] italic font-nunito font-semibold",children:e.title}),(0,l.jsx)("p",{className:"text-sm text-[#20313B] leading-[17px] font-inter",children:e.description}),(0,l.jsxs)("div",{className:"flex gap-2 overflow-x-auto my-2",children:[e.video&&(0,l.jsxs)("div",{className:"relative w-34 h-24 rounded flex-shrink-0 bg-gray-200 overflow-hidden cursor-pointer",onClick:t=>{t.stopPropagation(),eU((0,U.nJ)(e.video))},children:[(0,l.jsx)("video",{src:(0,U.nJ)(e.video),className:"w-full h-full object-cover",muted:!0,preload:"metadata",onLoadedMetadata:e=>{e.currentTarget.currentTime=.1}}),(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-opacity-30",children:(0,l.jsx)("div",{className:"w-8 h-8 bg-white bg-opacity-90 rounded-full flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-4 h-4 text-gray-800 ml-0.5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M8 5v14l11-7z"})})})})]}),(e.images||[]).filter(e=>!!e&&""!==e.trim()).map((t,s)=>{let a=(0,U.nJ)(t),n=(e.images||[]).filter(e=>!!e&&""!==e.trim()).map(e=>(0,U.nJ)(e));return(0,l.jsx)("div",{className:"relative w-36 h-24 rounded flex-shrink-0 bg-gray-100 overflow-hidden cursor-pointer",onClick:e=>{e.stopPropagation(),eB(a,n,s)},children:(0,l.jsx)(K.d,{src:a,alt:"Post ".concat(e.id," image ").concat(s+1),className:"w-full h-full object-cover"})},s)})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between my-2",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[e.updatedAt&&(0,l.jsx)("span",{className:"text-xs text-gray-600",children:e.updatedAt}),(0,l.jsxs)("div",{className:"flex items-center  mt-2",children:[(0,l.jsx)(w.Z,{className:"h-4 w-4 text-[#0F1728] font-semibold"}),(0,l.jsx)("span",{className:"text-sm text-[#0F1728] font-inter",children:e.location})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3 mt-2",children:[(0,l.jsxs)("button",{onClick:t=>eq(e.id,t),disabled:!(null==c?void 0:c.userId)||(null===(a=eN[e.id])||void 0===a?void 0:a.isInteracting),className:"flex flex-col items-center gap-0.5 transition-colors ".concat((null===(n=eN[e.id])||void 0===n?void 0:n.isCollect)?"bg-gradient-to-r from-yellow-500 to-orange-500 bg-clip-text text-transparent":"text-[#0F1728] hover:text-[#0F1728]"," ").concat(!(null==c?void 0:c.userId)||(null===(r=eN[e.id])||void 0===r?void 0:r.isInteracting)?"opacity-50 cursor-not-allowed":""),title:(null==c?void 0:c.userId)?"":s("square.pleaseLoginFirst"),children:[(0,l.jsx)(I.Z,{className:"h-6 w-6 font-semibold",style:(null===(i=eN[e.id])||void 0===i?void 0:i.isCollect)?{fill:"url(#bookmark-gradient)"}:{}}),(0,l.jsx)("span",{className:"text-xs font-nunito ".concat((null===(d=eN[e.id])||void 0===d?void 0:d.isCollect)?"bg-gradient-to-r from-yellow-500 to-orange-500 bg-clip-text text-transparent":""),children:(null===(u=eN[e.id])||void 0===u?void 0:u.bookmarks)||e.collects||0})]}),(0,l.jsxs)("button",{onClick:t=>eW(e.id,t),disabled:!(null==c?void 0:c.userId)||(null===(x=eN[e.id])||void 0===x?void 0:x.isInteracting),className:"flex flex-col items-center gap-0.5 transition-colors ".concat((null===(m=eN[e.id])||void 0===m?void 0:m.isLove)?"bg-gradient-to-r from-[#FD9507] to-[#CE14B0] bg-clip-text text-transparent":"text-[#0F1728] hover:text-[#0F1728]"," ").concat(!(null==c?void 0:c.userId)||(null===(f=eN[e.id])||void 0===f?void 0:f.isInteracting)?"opacity-50 cursor-not-allowed":""),title:(null==c?void 0:c.userId)?"":s("square.pleaseLoginFirst"),children:[(0,l.jsx)(y.Z,{className:"h-6 w-6 font-semibold",style:(null===(h=eN[e.id])||void 0===h?void 0:h.isLove)?{fill:"url(#heart-gradient)"}:{}}),(0,l.jsx)("span",{className:"text-xs font-nunito ".concat((null===(p=eN[e.id])||void 0===p?void 0:p.isLove)?"bg-gradient-to-r from-[#FD9507] to-[#CE14B0] bg-clip-text text-transparent":""),children:(null===(g=eN[e.id])||void 0===g?void 0:g.likes)||e.likes||0})]}),(0,l.jsxs)("button",{onClick:t=>eJ(e,t),className:"flex flex-col items-center gap-0.5 text-[#0F1728] hover:text-[#0F1728] transition-colors",children:[(0,l.jsx)(P.Z,{className:"h-6 w-6 font-semibold"}),(0,l.jsx)("span",{className:"text-xs font-nunito",children:e.shares||s("square.share")})]})]})]}),eI===(null==c?void 0:c.userId)&&(0,l.jsxs)("div",{className:"flex items-center gap-3 mt-2 mb-2",children:[(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),o.push("re")},className:(0,B.AK)("flex flex-col items-center gap-0.5 text-[#0F1728] hover:text-orange-600 disabled:opacity-50 disabled:cursor-not-allowed"),children:(0,l.jsx)(A.Z,{className:"h-5 w-5 font-semibold"})}),(0,l.jsx)("button",{onClick:t=>{t.stopPropagation(),eH(e.id,e.status||0)},disabled:et===e.id,className:(0,B.AK)("flex flex-col items-center gap-0.5 text-[#0F1728] hover:text-orange-600 disabled:opacity-50 disabled:cursor-not-allowed"),children:et===e.id?(0,l.jsx)(N.Z,{className:"h-5 w-5 animate-spin"}):1===e.status?(0,l.jsx)(k.Z,{className:"h-5 w-5 font-semibold"}):(0,l.jsx)(E.Z,{className:"h-5 w-5 font-semibold"})}),(0,l.jsx)("button",{onClick:t=>{t.stopPropagation(),ez(e.id)},disabled:Q===e.id,className:(0,B.AK)("flex flex-col items-center gap-0.5 text-[#0F1728] hover:text-red-600 disabled:opacity-50 disabled:cursor-not-allowed"),children:Q===e.id?(0,l.jsx)(N.Z,{className:"h-5 w-5 animate-spin"}):(0,l.jsx)(L.Z,{className:"h-5 w-5 font-semibold"})})]})]}),t<q.length-1&&(0,l.jsx)("div",{className:" my-4",style:{borderBottom:"1px solid #e5e7eb"}})]},e.id)})})})]}),eI===(null==c?void 0:c.userId)&&(0,l.jsx)("div",{className:(0,B.AK)(Y.vR.SPACING.PX_6,"z-10"),children:(0,l.jsx)("div",{className:(0,B.AK)(Y.iK.LAYOUT.FLEX_CENTER),children:(0,l.jsx)(_.default,{href:"/release",children:(0,l.jsxs)(a.z,{className:(0,B.AK)("bg-transparent rounded-full flex flex-col items-center justify-center gap-1 text-[#11295b]",Y.vR.FONTS.NUNITO,"text-sm font-semibold"),size:"lg",children:[(0,l.jsx)(F.default,{src:"/img/post.png",alt:"post",width:16,height:16,className:"h-14 w-14"}),(0,l.jsx)("span",{className:(0,B.AK)("text-sm","text-[#0F1728]","font-semibold font-poppins"),children:s("personalCenter.post.button")})]})})})}),(0,l.jsx)(S.$,{}),(0,l.jsx)(i,{open:el,onOpenChange:ea,children:(0,l.jsxs)(u,{className:"max-w-sm p-6 bg-white border border-gray-200 shadow-xl",children:[(0,l.jsxs)(x,{className:"text-center",children:[(0,l.jsx)(f,{className:"text-xl font-semibold text-gray-900 mb-2",children:s("personalPage.confirmDelete")}),(0,l.jsxs)(h,{className:"text-base text-gray-600 leading-relaxed",children:[s("personalPage.confirmDeleteMessage"),(0,l.jsx)("br",{}),s("personalPage.confirmDeleteDescription")]})]}),(0,l.jsxs)(m,{className:"flex-row gap-3  justify-center",children:[(0,l.jsx)(g,{className:"h-10 px-6 text-base rounded-lg border-gray-300 text-gray-700 hover:bg-gray-50",children:s("personalPage.cancel")}),(0,l.jsx)(p,{onClick:eX,className:"h-10 px-6 text-base mt-2 rounded-lg bg-gray-800 hover:bg-gray-900 text-white font-medium",children:s("personalPage.confirm")})]})]})}),er&&ec&&(0,l.jsx)("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"relative w-full h-full flex items-center justify-center",children:[(0,l.jsx)("button",{onClick:eY,className:"absolute top-4 right-4 z-10 w-10 h-10 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,l.jsx)("video",{src:ec,className:"max-w-full max-h-full object-contain",controls:!0,autoPlay:!0,onEnded:eY,onError:e=>{console.error("视频播放失败:",e),eY()}})]})}),eu&&em&&(0,l.jsx)("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center",onClick:eZ,children:(0,l.jsxs)("div",{className:"relative w-full h-full flex items-center justify-center",children:[(0,l.jsx)("button",{onClick:eZ,className:"absolute top-4 right-4 z-10 w-10 h-10 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),eg>0&&(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),eG()},className:"absolute left-4 z-10 w-10 h-10 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),eg<eh.length-1&&(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),eK()},className:"absolute right-4 z-10 w-10 h-10 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),(0,l.jsx)("div",{className:"max-w-full max-h-full flex items-center justify-center px-16",onClick:e=>e.stopPropagation(),children:(0,l.jsx)("img",{src:em,alt:"Preview",className:"max-w-full max-h-full object-contain"})}),eh.length>1&&(0,l.jsxs)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 z-10 bg-black bg-opacity-50 text-white px-4 py-2 rounded-full text-sm",children:[eg+1," / ",eh.length]})]})})]})]})}},1839:function(e,t,s){"use strict";s.d(t,{$:function(){return i}});var l=s(7437),a=s(759),n=s(3145);function o(e){let{transparent:t=!1}=e,{language:s,setLanguage:o}=(0,a.Z)();return(0,l.jsxs)("button",{onClick:()=>{o("en"===s?"zh":"en")},className:"flex items-center ".concat(t?"text-white":"text-[#0F1728]"," hover:opacity-80 transition-opacity"),"aria-label":"Switch to ".concat("en"===s?"Chinese":"English"),children:[(0,l.jsx)(n.default,{src:t?"/img/lang.png":"/img/lang-d.png",alt:"Language",width:24,height:24,className:"h-4 w-4"}),(0,l.jsx)("span",{className:"text-[10px] font-medium ml-1 ".concat(t?"text-white":"text-[#0F1728]"),children:"en"===s?"EN":"CN"})]})}var r=s(7648);function i(e){let{transparent:t=!1}=e,{t:s}=(0,a.Z)();return(0,l.jsx)("footer",{className:"mt-auto text-[10px] py-4 px-4 w-full font-inter ".concat(t?"text-white":"text-[#0F1728]"),children:(0,l.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,l.jsx)("div",{className:"flex items-center gap-2 font-inter",children:(0,l.jsx)(o,{transparent:t})}),(0,l.jsxs)("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[(0,l.jsx)(r.default,{href:"/about",className:"".concat(t?"text-white":"text-[#0F1728]"," font-inter"),children:s("footer.links.about")}),(0,l.jsx)(r.default,{href:"/privacy",className:"".concat(t?"text-white":"text-[#0F1728]"," font-inter"),children:s("footer.links.privacy")}),(0,l.jsx)("span",{className:"".concat(t?"text-white":"text-[#0F1728]"," font-inter"),children:s("footer.copyright")}),(0,l.jsx)(n.default,{src:t?"/img/logo-1.png":"/img/logo-2.png",alt:"Language",width:52,height:22,className:"h-5 w-auto"})]})]})})}},9441:function(e,t,s){"use strict";s.d(t,{d:function(){return o}});var l=s(7437),a=s(2265),n=s(3113);function o(e){let{src:t,alt:s,className:o="",fallbackSrc:r="/img/band.png",loading:i="lazy",onError:c,onLoad:d}=e,[u,x]=(0,a.useState)(!1),[m,f]=(0,a.useState)(!0);return u?(0,l.jsx)("div",{className:"bg-gray-200 flex items-center justify-center ".concat(o),children:(0,l.jsx)(n.Z,{className:"h-8 w-8 text-gray-400"})}):(0,l.jsxs)("div",{className:"relative ".concat(o),children:[m&&(0,l.jsx)("div",{className:"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center",children:(0,l.jsx)(n.Z,{className:"h-8 w-8 text-gray-400"})}),(0,l.jsx)("img",{src:t,alt:s,className:"".concat(o," ").concat(m?"opacity-0":"opacity-100"," transition-opacity duration-300"),loading:i,onError:()=>{x(!0),f(!1),null==c||c()},onLoad:()=>{f(!1),null==d||d()}})]})}},8685:function(e,t,s){"use strict";s.d(t,{$w:function(){return o},ZX:function(){return l},iK:function(){return n},vR:function(){return a}});let l={DEFAULT_PAGE:1,DEFAULT_LIMIT:999,MAX_LIMIT:100,REQUEST_TIMEOUT:1e4,MAX_RETRIES:3},a={COLORS:{PRIMARY:"#11295b",PRIMARY_OPACITY_80:"#11295b/80",PRIMARY_OPACITY_60:"#11295b/60",GRAY_100:"bg-gray-100",GRAY_400:"text-gray-400",RED_500:"text-red-500",WHITE:"text-white"},FONTS:{POPPINS:"font-poppins",NUNITO:"font-nunito",INTER:"font-inter"},FONT_WEIGHTS:{SEMIBOLD:"font-semibold",NORMAL:"font-normal"},SIZES:{ICON_SM:"h-3.5 w-3.5",ICON_MD:"h-6 w-6",ICON_LG:"h-7 w-7",ICON_XL:"h-8 w-8"},SPACING:{GAP_2:"gap-2",GAP_4:"gap-4",MB_2:"mb-2",MB_4:"mb-4",MB_6:"mb-6",MY_4:"my-4",PX_6:"px-6",PY_2:"py-2",PY_8:"py-8",PY_12:"py-12",PB_6:"pb-6"},BORDER_RADIUS:{ROUNDED_MD:"rounded-md",ROUNDED_FULL:"rounded-full"},EFFECTS:{OPACITY_50:"opacity-50",OPACITY_80:"/80",OPACITY_60:"/60"}},n={IMAGES:{MAX_THUMBNAILS:3,DEFAULT_IMAGE:"/img/band.png",THUMBNAIL_SIZE:{width:360,height:220},THUMBNAIL_CLASS:"w-full h-28 object-cover rounded-md"},LAYOUT:{GRID_COLS_3:"grid-cols-3",MIN_HEIGHT_DVH:"min-h-dvh",FLEX_COL:"flex-col",FLEX_CENTER:"flex items-center justify-center",FLEX_BETWEEN:"flex items-center justify-between"},TEXT_SIZES:{TITLE:"text-2xl",SUBTITLE:"text-lg",BODY:"text-[15px]",SMALL:"text-sm",XS:"text-xs"}},o={SPIN:"animate-spin",FADE_IN:"animate-fade-in",SLIDE_UP:"animate-slide-up"}},7471:function(e,t,s){"use strict";s.d(t,{h:function(){return o}});var l=s(2265),a=s(9376),n=s(6281);function o(e,t){let[s,o]=(0,l.useState)({data:null,loading:!1,error:null,success:!1}),r=(0,a.useSearchParams)(),{userParams:i}=(0,n.z)(),c=(0,l.useCallback)(()=>{if(i)return i;let e=r.get("userId"),t=r.get("token"),s=r.get("email");return e&&t?{userId:e,token:t,email:s||void 0}:null},[r,i]),d=(0,l.useCallback)(async s=>{let l=s||c();if(!l){t&&o({data:t,loading:!1,error:null,success:!0});return}o(e=>({...e,loading:!0,error:null}));try{let t=await e(l);o({data:t,loading:!1,error:null,success:!0})}catch(e){o({data:t||null,loading:!1,error:e instanceof Error?e.message:"请求失败",success:!1})}},[e,c,t]),u=(0,l.useCallback)(()=>{o({data:null,loading:!1,error:null,success:!1})},[]);return{...s,execute:d,reset:u,userParams:c()}}},1190:function(e,t,s){"use strict";s.d(t,{tL:function(){return n},bG:function(){return o.bG}});var l=s(8806),a=s(8685);async function n(e){return(0,l.WY)("getmypagelist",{userId:e.userId,token:e.token,page:e.page||a.ZX.DEFAULT_PAGE,limit:e.limit||a.ZX.DEFAULT_LIMIT})}var o=s(6023)},6652:function(e,t,s){"use strict";s.d(t,{AK:function(){return a}});var l=s(4508);function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,l.cn)(...t.filter(Boolean))}}},function(e){e.O(0,[604,438,157,51,624,971,117,744],function(){return e(e.s=8849)}),_N_E=e.O()}]);