(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[473],{8339:function(e,t,s){Promise.resolve().then(s.bind(s,7607))},7607:function(e,t,s){"use strict";s.d(t,{default:function(){return b}});var a=s(7437),n=s(2869),r=s(2451),l=s(3774),i=s(1178),o=s(8997),c=s(4970),d=s(759),u=s(6281),x=s(4196),m=s(1839),h=s(2265),f=s(9376),p=s(3145),g=s(6023),j=s(9116),v=s(8783),y=s(9441);function b(e){var t,s,b;let{params:N}=e,{t:w}=(0,d.Z)(),{authInfo:k,isAuthenticated:C}=(0,u.a)(),I=(0,f.useRouter)(),[S,L]=(0,h.useState)(!1),[q,Z]=(0,h.useState)(""),[F,T]=(0,h.useState)(!1),[A,z]=(0,h.useState)(!1),[E,U]=(0,h.useState)(!1),[M,_]=(0,h.useState)(0),[P,R]=(0,h.useState)(0),[B,W]=(0,h.useState)(0),[D,$]=(0,h.useState)(!1),[H,K]=(0,h.useState)(!1),[G,O]=(0,h.useState)(!1),[J,V]=(0,h.useState)(null),[Q,X]=(0,h.useState)(!1),[Y,ee]=(0,h.useState)(null),[et,es]=(0,h.useState)([]),[ea,en]=(0,h.useState)(0),[er,el]=(0,h.useState)(null),[ei,eo]=(0,h.useState)(!1),[ec,ed]=(0,h.useState)(""),eu=(0,h.useCallback)(async e=>{if(!(null==k?void 0:k.userId)||!(null==k?void 0:k.token)){el(null);return}eo(!0),ed("");try{let l=await (0,g.mG)({userId:k.userId,token:k.token,postId:e});if(l.success&&l.data){var t,s,a,n,r;Array.isArray(l.data.comments)||(l.data.comments=[]),el(l.data),_((null===(t=l.data.interactions)||void 0===t?void 0:t.likes)||0),R((null===(s=l.data.interactions)||void 0===s?void 0:s.collects)||0),W((null===(a=l.data.interactions)||void 0===a?void 0:a.shares)||l.data.shares||0),T((null===(n=l.data.interactions)||void 0===n?void 0:n.userLiked)||!1),z((null===(r=l.data.interactions)||void 0===r?void 0:r.userCollected)||!1)}else ed(w("square.loadDetailFailed"))}catch(e){ed(w("square.loadDetailError"))}finally{eo(!1)}},[k]);(0,h.useEffect)(()=>{eu(N.id)},[N.id,eu]);let ex=async()=>{if(q.trim()&&(null==k?void 0:k.userId)&&(null==k?void 0:k.token)&&!H){K(!0);try{(await (0,g.w)({userId:k.userId,token:k.token,productId:N.id,parentId:null==J?void 0:J.id,content:q.trim()})).success?(Z(""),V(null),eu(N.id)):alert(w("square.commentSubmitFailed"))}catch(e){console.error("评论提交失败:",e),alert(w("square.commentSubmitFailed"))}finally{K(!1)}}},em=async()=>{if((null==k?void 0:k.userId)&&(null==k?void 0:k.token)&&!D){$(!0);try{console.log("isLiked",F),(await (0,g.v1)({userId:k.userId,token:k.token,productId:N.id,isLove:F?1:0})).success?(T(!F),_(e=>F?e-1:e+1)):alert(w("square.operationFailed"))}catch(e){console.error("点赞失败:",e),alert(w("square.operationFailed"))}finally{$(!1)}}},eh=async()=>{if((null==k?void 0:k.userId)&&(null==k?void 0:k.token)&&!D){$(!0);try{(await (0,g.gQ)({userId:k.userId,token:k.token,productId:N.id,isCollect:A?1:0})).success?(z(!A),R(e=>A?e-1:e+1)):alert(w("square.operationFailed"))}catch(e){console.error("收藏失败:",e),alert(w("square.operationFailed"))}finally{$(!1)}}},ef=async()=>{if((null==k?void 0:k.userId)&&(null==k?void 0:k.token))try{await (0,g._Z)({userId:k.userId,token:k.token,productId:N.id}),W(e=>e+1)}catch(e){console.error("分享接口调用失败:",e)}if(er&&navigator.share)try{await navigator.share({title:er.title||"Untitled",text:er.description||"",url:window.location.href})}catch(e){"AbortError"!==e.name&&console.error("分享失败:",e)}else try{await navigator.clipboard.writeText(window.location.href),alert(w("square.linkCopied"))}catch(e){console.error("复制链接失败:",e)}},ep=(e,t,s)=>{es(t),en(s),ee(e),X(!0)},eg=()=>{X(!1),ee(null),es([]),en(0)},ej=()=>{if(ea>0){let e=ea-1;en(e),ee(et[e])}},ev=()=>{if(ea<et.length-1){let e=ea+1;en(e),ee(et[e])}},ey=()=>{O(!1)};if(ei)return(0,a.jsx)("div",{className:"min-h-screen bg-white",children:(0,a.jsxs)("main",{className:"flex min-h-[100vh] flex-col",children:[(0,a.jsx)(x.h,{showSearch:!0,showUser:!0,logoLink:"/square"}),(0,a.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,a.jsx)(v.TK,{size:"lg",text:w("common.loading")})}),(0,a.jsx)(m.$,{})]})});if(ec&&!er)return(0,a.jsx)("div",{className:"min-h-screen bg-white",children:(0,a.jsxs)("main",{className:"flex min-h-[100vh] flex-col",children:[(0,a.jsx)(x.h,{showSearch:!0,showUser:!0,logoLink:"/square"}),(0,a.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,a.jsx)(v.Te,{error:ec,onRetry:()=>C&&eu(N.id)})}),(0,a.jsx)(m.$,{})]})});if(!er&&!ei&&!ec)return(0,a.jsx)("div",{className:"min-h-screen bg-white",children:(0,a.jsxs)("main",{className:"flex min-h-[100vh] flex-col",children:[(0,a.jsx)(x.h,{showSearch:!0,showUser:!0,logoLink:"/square"}),(0,a.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,a.jsx)(v.ub,{title:"",action:C?void 0:(0,a.jsx)(n.z,{onClick:()=>I.push("/login"),className:"bg-gradient-to-r from-orange-500 to-pink-500 text-white hover:from-orange-600 hover:to-pink-600 text-[17px] font-poppins font-semibold",children:w("square.loginRequiredForDetail")})})}),(0,a.jsx)(m.$,{})]})});if(!er)return null;let eb=(er.images||[]).filter(e=>!!e&&""!==e.trim()),eN=er.video||S?S?eb.length:1:2,ew=S?eb:eb.slice(0,eN);return(0,a.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,a.jsx)("svg",{className:"absolute w-0 h-0",children:(0,a.jsxs)("defs",{children:[(0,a.jsxs)("linearGradient",{id:"bookmark-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,a.jsx)("stop",{offset:"0%",stopColor:"#eab308"}),(0,a.jsx)("stop",{offset:"100%",stopColor:"#f97316"})]}),(0,a.jsxs)("linearGradient",{id:"heart-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,a.jsx)("stop",{offset:"0%",stopColor:"#FD9507"}),(0,a.jsx)("stop",{offset:"100%",stopColor:"#CE14B0"})]})]})}),(0,a.jsxs)("main",{className:" flex min-h-[100vh] flex-col",children:[(0,a.jsx)(x.h,{showSearch:!0,showUser:!0,logoLink:"/square"}),(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-4",children:[(0,a.jsx)("h1",{className:"text-xl font-poppins text-[#12295B] italic font-semibold",children:er.title||"Untitled"}),(0,a.jsx)("button",{onClick:()=>{I.back()},className:"text-[#0F1728] hover:text-[#0F1728]",children:(0,a.jsx)(r.Z,{className:"h-7 w-7 z-10"})})]}),(0,a.jsxs)("div",{className:"flex-1 px-4 space-y-5",children:[(0,a.jsxs)("div",{className:"flex items-center ",children:[(0,a.jsxs)("button",{onClick:()=>{var e;er&&(null===(e=er.publisher)||void 0===e?void 0:e.id)&&I.push("/personal/".concat(er.publisher.id))},className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[(0,a.jsx)("img",{src:"".concat(j.bl.STATIC_URL).concat((null===(t=er.publisher)||void 0===t?void 0:t.avatar)||""),alt:(null===(s=er.publisher)||void 0===s?void 0:s.nickname)||"User",className:"w-9 h-9 rounded-full object-cover bg-gray-300"}),(0,a.jsx)("span",{className:"font-sm text-[#0F1728] font-nunito",children:(null===(b=er.publisher)||void 0===b?void 0:b.nickname)||"Unknown User"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 ml-auto",children:[(0,a.jsx)(l.Z,{className:"h-4 w-4 text-gray-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-600 font-nunito",children:er.location||"Unknown Location"})]})]}),(0,a.jsx)("p",{className:"text-[#20313B] leading-relaxed text-sm font-inter",children:er.description}),er.video&&(0,a.jsxs)("div",{className:"relative w-full h-64 bg-gray-200 rounded-sm overflow-hidden cursor-pointer",onClick:()=>{O(!0)},children:[(0,a.jsx)("video",{src:"".concat(j.bl.STATIC_URL).concat(er.video),className:"w-full h-full object-cover",muted:!0,preload:"metadata",onLoadedMetadata:e=>{e.currentTarget.currentTime=.1}}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-opacity-30",children:(0,a.jsx)("div",{className:"w-12 h-12 bg-white bg-opacity-90 rounded-full flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-8 h-8 text-gray-800 ml-0.5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M8 5v14l11-7z"})})})})]}),eb.length>0&&(0,a.jsxs)("div",{className:"space-y-4",children:[ew.map((e,t)=>{let s="".concat(j.bl.STATIC_URL).concat(e),n=eb.map(e=>"".concat(j.bl.STATIC_URL).concat(e)),r=t===ew.length-1,l=!S&&eb.length>ew.length&&r;return(0,a.jsxs)("div",{className:"relative w-full h-64 rounded-sm bg-gray-200 overflow-hidden group cursor-pointer",onClick:e=>{e.stopPropagation(),ep(s,n,t)},children:[(0,a.jsx)(y.d,{src:s,alt:"Gallery image ".concat(t+1),className:"w-full h-full object-cover transition-transform group-hover:scale-105",onError:()=>{console.error("Failed to load image: ".concat(s))}}),l&&(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-white via-white/30 to-transparent pointer-events-none"})]},t)}),(S||eb.length>ew.length)&&(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("button",{onClick:()=>L(!S),className:"flex items-center gap-2 text-gray-600 hover:text-gray-800",children:(0,a.jsx)(p.default,{src:"/img/show.png",alt:"Show",width:20,height:20,className:"h-9 w-9 transition-transform ".concat(S?"rotate-180":"")})})})]}),er.brandInfo&&(0,a.jsxs)("div",{className:"space-y-4",children:[er.brandInfo.website&&(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("img",{src:"/img/Icon-website.svg",alt:"Website",className:"h-9 w-9"}),(0,a.jsx)("a",{href:er.brandInfo.website.startsWith("http")?er.brandInfo.website:"https://".concat(er.brandInfo.website),className:"text-[#0F1728] hover:underline text-sm font-semibold font-poppins",target:"_blank",rel:"noopener noreferrer",children:er.brandInfo.brand})]}),er.brandInfo&&(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("img",{src:"/img/Icon-introduction.svg",alt:"Introduction",className:"h-9 w-9 pl-1"}),(0,a.jsxs)("div",{className:"flex-1",children:[er.brandInfo.intro&&(0,a.jsx)("p",{className:"text-xs text-[#0F1728] font-normal font-inter pt-1 leading-relaxed",children:er.brandInfo.intro}),er.brandInfo.customerService?(0,a.jsxs)("p",{className:"text-xs mt-6 text-[#0F1728] font-inter",children:[(0,a.jsxs)("span",{className:"font-semibold mr-1",children:[w("personalPage.customerServiceHotline"),":"]}),er.brandInfo.customerService]}):null,er.brandInfo.workHour?(0,a.jsxs)("p",{className:"text-xs text-[#0F1728] font-inter",children:[(0,a.jsxs)("span",{className:"font-semibold mr-1",children:[w("personalPage.workHour"),":"]}),er.brandInfo.workHour]}):null,er.brandInfo.email?(0,a.jsxs)("p",{className:"text-xs text-[#0F1728] font-inter",children:[(0,a.jsxs)("span",{className:"font-semibold mr-1",children:[w("personalPage.email"),":"]}),er.brandInfo.email]}):null,er.brandInfo.address?(0,a.jsxs)("p",{className:"text-xs text-[#0F1728] font-inter",children:[(0,a.jsxs)("span",{className:"font-semibold mr-1",children:[w("personalPage.address"),":"]}),er.brandInfo.address]}):null]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-8 px-10 ",children:[(0,a.jsxs)("button",{onClick:eh,disabled:D||!C,className:"flex items-center gap-2 transition-colors ".concat(A?"bg-gradient-to-r from-yellow-500 to-orange-500 bg-clip-text text-transparent":"text-[#0F1728] hover:text-gray-800"," ").concat(D||!C?"opacity-50 cursor-not-allowed":""),title:C?"":w("square.pleaseLoginFirst"),children:[(0,a.jsx)(i.Z,{className:"h-6 w-6",style:A?{fill:"url(#bookmark-gradient)"}:{}}),(0,a.jsx)("span",{className:"text-sm font-nunito ".concat(A?"bg-gradient-to-r from-yellow-500 to-orange-500 bg-clip-text text-transparent":""),children:P.toLocaleString()})]}),(0,a.jsx)("div",{className:"h-2 w-px bg-gray-600"}),(0,a.jsxs)("button",{onClick:em,disabled:D||!C,className:"flex items-center gap-2 transition-colors ".concat(F?"bg-gradient-to-r from-orange-500 to-pink-500 bg-clip-text text-transparent":"text-[#0F1728] hover:text-red-500"," ").concat(D||!C?"opacity-50 cursor-not-allowed":""),title:C?"":w("square.pleaseLoginFirst"),children:[(0,a.jsx)(o.Z,{className:"h-6 w-6",style:F?{fill:"url(#heart-gradient)"}:{}}),(0,a.jsx)("span",{className:"text-sm font-nunito ".concat(F?"bg-gradient-to-r from-orange-500 to-pink-500 bg-clip-text text-transparent":""),children:M.toLocaleString()})]}),(0,a.jsx)("div",{className:"h-2 w-px bg-gray-600"}),(0,a.jsxs)("button",{onClick:ef,className:"flex items-center gap-2 text-[#0F1728] hover:text-gray-800 transition-colors",children:[(0,a.jsx)(c.Z,{className:"h-6 w-6"}),(0,a.jsx)("span",{className:"text-sm font-nunito text-[#0F1728]",children:B||w("square.share")})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"",style:{borderBottom:"1px solid #e5e7eb"}}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h3",{className:"text-sm font-nunito text-gray-900",children:w("square.comments")}),(0,a.jsxs)("span",{className:"text-sm text-gray-500 font-nunito",children:["(",(er.comments||[]).length,")"]})]}),(0,a.jsx)(p.default,{src:"/img/chat.png",alt:"Chat",width:24,height:24,className:"h-5 w-5",onClick:()=>{V(null),Z(""),setTimeout(()=>{let e=document.querySelector('input[type="text"]');null==e||e.focus()},100)}})]}),(0,a.jsx)("div",{className:"space-y-4",children:Array.isArray(er.comments)&&er.comments.length>0?er.comments.map((e,t)=>{var s,n,r;let l=e.id||"comment-".concat(t),i=(null===(s=e.author)||void 0===s?void 0:s.nickname)||"Anonymous",o=(null===(n=e.author)||void 0===n?void 0:n.avatar)||"",c=e.content||"",d=e.replies||0,u=e.replyList||[],x=e.createdAt||"";return(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(y.d,{src:(0,j.nJ)(o||(null===(r=er.publisher)||void 0===r?void 0:r.avatar)),alt:"avatar",className:"w-9 h-9 rounded-full flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900 font-inter",children:i}),x&&(0,a.jsx)("span",{className:"text-xs text-gray-500 font-inter",children:x})]}),(0,a.jsxs)("button",{onClick:()=>{V({id:l,nickname:i}),setTimeout(()=>{let e=document.querySelector('input[type="text"]');null==e||e.focus()},100)},className:"flex items-center gap-1 text-gray-500 hover:text-gray-700 text-xs",children:[(0,a.jsx)(p.default,{src:"/img/chat.png",alt:"Reply",width:16,height:16,className:"h-5 w-5"}),d>0&&(0,a.jsxs)("span",{className:"text-gray-400 font-inter",children:["(",d,")"]})]})]}),(0,a.jsx)("p",{className:"text-gray-700 mb-2 text-xs font-inter leading-relaxed",children:c})]})]}),Array.isArray(u)&&u.length>0&&(0,a.jsx)("div",{className:"ml-11 space-y-3 pl-4",children:u.map((e,s)=>{var n,r,l;let i=e.id||"reply-".concat(t,"-").concat(s),o=(null===(n=e.author)||void 0===n?void 0:n.nickname)||"Anonymous",c=(null===(r=e.author)||void 0===r?void 0:r.avatar)||"",d=e.content||"",u=e.createdAt||"";return(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(y.d,{src:(0,j.nJ)(c||(null===(l=er.publisher)||void 0===l?void 0:l.avatar)),alt:"avatar",className:"w-9 h-9 rounded-full flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-1",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900 font-inter",children:o}),u&&(0,a.jsx)("span",{className:"text-xs text-gray-500 font-inter",children:u})]})}),(0,a.jsx)("p",{className:"text-gray-700 text-xs font-inter leading-relaxed",children:d})]})]},i)})})]},l)}):(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-gray-500 font-inter text-base",children:w("square.noComments")})})}),(0,a.jsx)("div",{className:"pt-4 ",children:(0,a.jsx)("div",{className:"flex gap-3",children:(0,a.jsxs)("div",{className:"flex-1 flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:J?"".concat(w("square.replyingTo")," ").concat(J.nickname,"：").concat(q):q,onChange:e=>{if(J){let t="".concat(w("square.replyingTo")," ").concat(J.nickname,"：");if(e.target.value.startsWith(t))Z(e.target.value.slice(t.length));else{if(e.target.value.length<t.length)return;Z(e.target.value.slice(t.length))}}else Z(e.target.value)},onKeyDown:e=>{if(J){let t="".concat(w("square.replyingTo")," ").concat(J.nickname,"："),s=e.currentTarget;null!==s.selectionStart&&s.selectionStart<t.length&&("Backspace"===e.key||"Delete"===e.key)&&(e.preventDefault(),setTimeout(()=>{s.setSelectionRange(t.length,t.length)},0))}},placeholder:C?J?"".concat(w("square.replyingTo")," ").concat(J.nickname,"："):w("square.inputComments"):w("square.pleaseLoginFirst"),disabled:!C||H,onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),ex())},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed bg-gray-100 text-gray-900 placeholder-gray-500",style:{border:"1px solid #d1d5db",backgroundColor:"#f3f4f6",color:"#111827"}}),(0,a.jsx)("button",{onClick:ex,disabled:!C||!q.trim()||H,className:"flex items-center justify-center transition-opacity ".concat(C&&q.trim()&&!H?"":"cursor-not-allowed"),children:(0,a.jsx)(p.default,{src:"/img/send.png",alt:"Send",width:24,height:24,className:"h-6 w-6"})})]})})})]})]}),(0,a.jsx)(m.$,{})]}),G&&er.video&&(0,a.jsx)("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"relative w-full h-full flex items-center justify-center",children:[(0,a.jsx)("button",{onClick:ey,className:"absolute top-4 right-4 z-10 w-10 h-10 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,a.jsx)("video",{src:"".concat(j.bl.STATIC_URL).concat(er.video),className:"max-w-full max-h-full object-contain",controls:!0,autoPlay:!0,onEnded:ey,onError:e=>{console.error("视频播放失败:",e),ey()}})]})}),Q&&Y&&(0,a.jsx)("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center",onClick:eg,children:(0,a.jsxs)("div",{className:"relative w-full h-full flex items-center justify-center",children:[(0,a.jsx)("button",{onClick:eg,className:"absolute top-4 right-4 z-10 w-10 h-10 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),ea>0&&(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),ej()},className:"absolute left-4 z-10 w-10 h-10 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),ea<et.length-1&&(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),ev()},className:"absolute right-4 z-10 w-10 h-10 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),(0,a.jsx)("div",{className:"max-w-full max-h-full flex items-center justify-center px-16",onClick:e=>e.stopPropagation(),children:(0,a.jsx)("img",{src:Y,alt:"Preview",className:"max-w-full max-h-full object-contain"})}),et.length>1&&(0,a.jsxs)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 z-10 bg-black bg-opacity-50 text-white px-4 py-2 rounded-full text-sm",children:[ea+1," / ",et.length]})]})})]})}},1839:function(e,t,s){"use strict";s.d(t,{$:function(){return o}});var a=s(7437),n=s(759),r=s(3145);function l(e){let{transparent:t=!1}=e,{language:s,setLanguage:l}=(0,n.Z)();return(0,a.jsxs)("button",{onClick:()=>{l("en"===s?"zh":"en")},className:"flex items-center ".concat(t?"text-white":"text-[#0F1728]"," hover:opacity-80 transition-opacity"),"aria-label":"Switch to ".concat("en"===s?"Chinese":"English"),children:[(0,a.jsx)(r.default,{src:t?"/img/lang.png":"/img/lang-d.png",alt:"Language",width:24,height:24,className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-[10px] font-medium ml-1 ".concat(t?"text-white":"text-[#0F1728]"),children:"en"===s?"EN":"CN"})]})}var i=s(7648);function o(e){let{transparent:t=!1}=e,{t:s}=(0,n.Z)();return(0,a.jsx)("footer",{className:"mt-auto text-[10px] py-4 px-4 w-full font-inter ".concat(t?"text-white":"text-[#0F1728]"),children:(0,a.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,a.jsx)("div",{className:"flex items-center gap-2 font-inter",children:(0,a.jsx)(l,{transparent:t})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[(0,a.jsx)(i.default,{href:"/about",className:"".concat(t?"text-white":"text-[#0F1728]"," font-inter"),children:s("footer.links.about")}),(0,a.jsx)(i.default,{href:"/privacy",className:"".concat(t?"text-white":"text-[#0F1728]"," font-inter"),children:s("footer.links.privacy")}),(0,a.jsx)("span",{className:"".concat(t?"text-white":"text-[#0F1728]"," font-inter"),children:s("footer.copyright")}),(0,a.jsx)(r.default,{src:t?"/img/logo-1.png":"/img/logo-2.png",alt:"Language",width:52,height:22,className:"h-5 w-auto"})]})]})})}},8783:function(e,t,s){"use strict";s.d(t,{TK:function(){return o},Te:function(){return c},ub:function(){return d}});var a=s(7437),n=s(2869),r=s(9322),l=s(7168),i=s(759);function o(e){let{size:t="md",text:s,className:n=""}=e,{t:r}=(0,i.Z)(),l=s||r("common.loading");return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center ".concat(n),children:[(0,a.jsx)("div",{className:"animate-spin rounded-full border-b-2 border-[#11295b] ".concat({sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[t]," mb-2")}),l&&(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:l})]})}function c(e){let{error:t,onRetry:s,retryText:o,className:c=""}=e,{t:d}=(0,i.Z)(),u=o||d("common.retry");return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center ".concat(c),children:[(0,a.jsx)(r.Z,{className:"h-8 w-8 text-red-500 mb-2"}),(0,a.jsx)("p",{className:"text-red-500 mb-4 text-center",children:t}),s&&(0,a.jsxs)(n.z,{onClick:s,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[(0,a.jsx)(l.Z,{className:"h-4 w-4"}),u]})]})}function d(e){let{title:t,description:s,icon:n,action:r,className:l=""}=e;return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center text-center ".concat(l),children:[n&&(0,a.jsx)("div",{className:"mb-4",children:n}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t}),s&&(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:s}),r&&(0,a.jsx)("div",{children:r})]})}},9441:function(e,t,s){"use strict";s.d(t,{d:function(){return l}});var a=s(7437),n=s(2265),r=s(3113);function l(e){let{src:t,alt:s,className:l="",fallbackSrc:i="/img/band.png",loading:o="lazy",onError:c,onLoad:d}=e,[u,x]=(0,n.useState)(!1),[m,h]=(0,n.useState)(!0);return u?(0,a.jsx)("div",{className:"bg-gray-200 flex items-center justify-center ".concat(l),children:(0,a.jsx)(r.Z,{className:"h-8 w-8 text-gray-400"})}):(0,a.jsxs)("div",{className:"relative ".concat(l),children:[m&&(0,a.jsx)("div",{className:"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center",children:(0,a.jsx)(r.Z,{className:"h-8 w-8 text-gray-400"})}),(0,a.jsx)("img",{src:t,alt:s,className:"".concat(l," ").concat(m?"opacity-0":"opacity-100"," transition-opacity duration-300"),loading:o,onError:()=>{x(!0),h(!1),null==c||c()},onLoad:()=>{h(!1),null==d||d()}})]})}},9205:function(e,t,s){"use strict";s.d(t,{Z:function(){return u}});var a=s(2265);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),l=e=>{let t=r(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()},o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,a.forwardRef)((e,t)=>{let{color:s="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:l,className:d="",children:u,iconNode:x,...m}=e;return(0,a.createElement)("svg",{ref:t,...c,width:n,height:n,stroke:s,strokeWidth:l?24*Number(r)/Number(n):r,className:i("lucide",d),...!u&&!o(m)&&{"aria-hidden":"true"},...m},[...x.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let s=(0,a.forwardRef)((s,r)=>{let{className:o,...c}=s;return(0,a.createElement)(d,{ref:r,iconNode:t,className:i("lucide-".concat(n(l(e))),"lucide-".concat(e),o),...c})});return s.displayName=l(e),s}},1178:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]])},2451:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},9322:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},8997:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])},3113:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},3774:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},7168:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},4970:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("square-arrow-out-up-right",[["path",{d:"M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6",key:"y09zxi"}],["path",{d:"m21 3-9 9",key:"mpx6sq"}],["path",{d:"M15 3h6v6",key:"1q9fwt"}]])}},function(e){e.O(0,[604,51,624,971,117,744],function(){return e(e.s=8339)}),_N_E=e.O()}]);