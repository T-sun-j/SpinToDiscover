(()=>{var e={};e.id=267,e.ids=[267],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7147:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>d,routeModule:()=>m,tree:()=>o}),s(2830),s(3169),s(5866);var a=s(3191),n=s(8716),r=s(7922),i=s.n(r),l=s(5231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(t,c);let o=["",{children:["personal-center",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,2830)),"/Users/jinjing/Desktop/jj/code1/SpinToDiscover/SpinToDiscover/app/personal-center/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,3169)),"/Users/jinjing/Desktop/jj/code1/SpinToDiscover/SpinToDiscover/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/jinjing/Desktop/jj/code1/SpinToDiscover/SpinToDiscover/app/personal-center/page.tsx"],x="/personal-center/page",h={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/personal-center/page",pathname:"/personal-center",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},4838:(e,t,s)=>{Promise.resolve().then(s.bind(s,6633))},6633:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>I});var a=s(326),n=s(772),r=s(1890),i=s(7506),l=s(1291),c=s(1405);let o=(0,s(2881).Z)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var d=s(3211),x=s(6968),h=s(3723),m=s(434),u=s(6226),p=s(5047),f=s(7577),g=s(8200),j=s(173),N=s(6260),v=s(6824),_=s(5128),A=s(3136),R=s(6370);function I(){let{t:e}=(0,d.Z)(),t=(0,p.useRouter)(),{getEmail:s,clearAuthInfo:I}=(0,A.a)(),[b,E]=(0,f.useState)(null);(0,f.useRef)(!1);let{data:y,loading:T,error:w,execute:S,userParams:O}=(0,g.h)(async e=>(await (0,j.bG)({email:e.email||s()||"",userId:e.userId,token:e.token})).data,null);return a.jsx(R.a,{children:(0,a.jsxs)("main",{className:(0,_.AK)("flex",N.iK.LAYOUT.MIN_HEIGHT_DVH,N.iK.LAYOUT.FLEX_COL,"bg-white","font-semibold","text-xl","text-[#0F1728]"),children:[a.jsx(x.h,{logoLink:"/square"}),(0,a.jsxs)("div",{className:(0,_.AK)(N.iK.LAYOUT.FLEX_BETWEEN,"px-4 py-4 z-100","text-[#0F1728]"),children:[a.jsx("h1",{className:"text-xl font-poppins text-[#0F1728] font-semibold",children:e("personalCenter.title")}),a.jsx("button",{onClick:()=>t.push("/square"),className:"text-[#0F1728] hover:text-[#0F1728]",children:a.jsx(r.Z,{className:"h-8 w-8 z-100"})})]}),(0,a.jsxs)("div",{className:(0,_.AK)("px-4"),children:[T&&(0,a.jsxs)("div",{className:(0,_.AK)(N.iK.LAYOUT.FLEX_CENTER,"py-4"),children:[a.jsx(i.Z,{className:(0,_.AK)(N.vR.SIZES.ICON_MD,N.$w.SPIN,N.vR.COLORS.PRIMARY)}),a.jsx("span",{className:(0,_.AK)("ml-2",N.vR.COLORS.PRIMARY,N.vR.FONTS.NUNITO),children:e("userInfo.loading")})]}),w&&(0,a.jsxs)("div",{className:(0,_.AK)(N.iK.LAYOUT.FLEX_CENTER,"py-4"),children:[a.jsx(l.Z,{className:(0,_.AK)(N.vR.SIZES.ICON_MD,N.vR.COLORS.RED_500)}),a.jsx("span",{className:(0,_.AK)("ml-2",N.vR.COLORS.RED_500,N.vR.FONTS.NUNITO),children:e("userInfo.error")}),a.jsx("button",{onClick:()=>S(),className:(0,_.AK)("ml-2 p-1",N.vR.COLORS.PRIMARY,"hover:text-[#11295b]/80"),children:a.jsx(c.Z,{className:(0,_.AK)(N.vR.SIZES.ICON_SM)})})]}),!T&&!w&&(0,a.jsxs)("div",{className:(0,_.AK)("flex items-center",N.vR.SPACING.GAP_4),children:[a.jsx("div",{className:"relative",children:a.jsx(u.default,{src:(0,v.nJ)(b?.avatar),alt:"Profile",width:12,height:12,className:(0,_.AK)(N.vR.BORDER_RADIUS.ROUNDED_FULL,"h-9 w-9 object-cover")})}),a.jsx("div",{className:"flex-1 flex items-center text-[#11295b]",children:a.jsx("div",{className:"flex-1",children:(0,a.jsxs)("h2",{className:"text-sm text-[#0F1728] flex items-center gap-1 font-inter",children:[b?.nickname||b?.email||"User",a.jsx(m.default,{href:"/personalization",children:a.jsx(n.z,{variant:"ghost",size:"icon",children:a.jsx(u.default,{src:"/img/RotateCcw.png",alt:"rotate",width:16,height:16,className:"h-4 w-auto z-10"})})})]})})}),(0,a.jsxs)("div",{className:(0,_.AK)("flex items-center","text-[#11295b]",N.vR.SPACING.GAP_2),children:[a.jsx(m.default,{href:"/settings",children:a.jsx(n.z,{variant:"ghost",size:"icon",className:N.vR.COLORS.PRIMARY,children:a.jsx(u.default,{src:"/img/set.png",alt:"settings",width:16,height:16,className:"h-8 w-8"})})}),a.jsx(n.z,{variant:"ghost",size:"icon",className:N.vR.COLORS.PRIMARY,onClick:()=>{I(),t.push("/login")},title:e("personalCenter.logout"),children:a.jsx(o,{className:"h-8 w-8"})})]})]})]}),a.jsx("div",{className:(0,_.AK)("flex-1 px-4 py-4"),children:(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx(m.default,{href:"/personal",children:a.jsx(n.z,{variant:"ghost",className:(0,_.AK)("w-full justify-start","bg-[#11295b] text-white h-13 rounded-lg","font-poppins","text-[17px] font-semibold"),children:e("personalCenter.menu.myPage")})}),a.jsx("div",{className:"h-2"}),a.jsx(m.default,{href:"/followed",children:a.jsx(n.z,{variant:"ghost",className:(0,_.AK)("w-full justify-start","bg-[#11295b] text-white h-13 rounded-lg","font-poppins","text-[17px] font-semibold"),children:e("personalCenter.menu.followed")})}),a.jsx("div",{className:"h-2"}),a.jsx(m.default,{href:"/history",children:a.jsx(n.z,{variant:"ghost",className:(0,_.AK)("w-full justify-start","bg-[#11295b] text-white h-13 rounded-lg","font-poppins","text-[17px] font-semibold"),children:e("personalCenter.menu.history")})}),a.jsx("div",{className:"h-2"}),a.jsx(m.default,{href:"/favorite",children:a.jsx(n.z,{variant:"ghost",className:(0,_.AK)("w-full justify-start","bg-[#11295b] text-white h-13 rounded-lg","font-poppins","text-[17px] font-semibold"),children:e("personalCenter.menu.favorites")})})]})}),a.jsx("div",{className:(0,_.AK)(N.vR.SPACING.PX_6,"py-4"),children:a.jsx("div",{className:(0,_.AK)(N.iK.LAYOUT.FLEX_CENTER,N.vR.SPACING.GAP_4),children:a.jsx(m.default,{href:"/release",children:(0,a.jsxs)(n.z,{className:(0,_.AK)("bg-white rounded-full  flex flex-col items-center justify-center gap-1 text-[#11295b]",N.vR.COLORS.PRIMARY,N.vR.FONTS.NUNITO,"text-[17px] font-semibold"),size:"lg",children:[a.jsx(u.default,{src:"/img/post.png",alt:"post",width:16,height:16,className:"h-14 w-14"}),a.jsx("span",{className:(0,_.AK)("text-sm","text-[#0F1728]","font-semibold font-poppins"),children:e("personalCenter.post.button")})]})})})}),a.jsx("div",{className:"mt-auto",children:a.jsx(h.$,{})})]})})}},6370:(e,t,s)=>{"use strict";s.d(t,{a:()=>d});var a=s(326),n=s(7577),r=s(5047),i=s(3136),l=s(3211),c=s(7402);let o=["/","/square","/login","/register","/forgot-password","/change-password","/personalization","/about","/privacy"];function d({children:e,fallback:t}){let{isAuthenticated:s,authInfo:d}=(0,i.a)(),{t:x}=(0,l.Z)();(0,r.useRouter)();let h=(0,r.usePathname)(),[m,u]=(0,n.useState)(!1);return o.some(e=>"/"===e?"/"===h:h.startsWith(e))?a.jsx(a.Fragment,{children:e}):s&&d?.userId&&d?.token?a.jsx(a.Fragment,{children:e}):t||a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:a.jsx("div",{className:"text-center",children:a.jsx(c.TK,{size:"lg",text:x("common.verifying")})})})}},3723:(e,t,s)=>{"use strict";s.d(t,{$:()=>c});var a=s(326),n=s(3211),r=s(6226);function i({transparent:e=!1}){let{language:t,setLanguage:s}=(0,n.Z)();return(0,a.jsxs)("button",{onClick:()=>{s("en"===t?"zh":"en")},className:`flex items-center ${e?"text-white":"text-[#0F1728]"} hover:opacity-80 transition-opacity`,"aria-label":`Switch to ${"en"===t?"Chinese":"English"}`,children:[a.jsx(r.default,{src:e?"/img/lang.png":"/img/lang-d.png",alt:"Language",width:24,height:24,className:"h-4 w-4"}),a.jsx("span",{className:`text-[10px] font-medium ml-1 ${e?"text-white":"text-[#0F1728]"}`,children:"en"===t?"EN":"CN"})]})}var l=s(434);function c({transparent:e=!1}){let{t}=(0,n.Z)();return a.jsx("footer",{className:`mt-auto text-[10px] py-4 px-4 w-full font-inter ${e?"text-white":"text-[#0F1728]"}`,children:(0,a.jsxs)("div",{className:"flex justify-between items-center w-full",children:[a.jsx("div",{className:"flex items-center gap-2 font-inter",children:a.jsx(i,{transparent:e})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[a.jsx(l.default,{href:"/about",className:`${e?"text-white":"text-[#0F1728]"} font-inter`,children:t("footer.links.about")}),a.jsx(l.default,{href:"/privacy",className:`${e?"text-white":"text-[#0F1728]"} font-inter`,children:t("footer.links.privacy")}),a.jsx("span",{className:`${e?"text-white":"text-[#0F1728]"} font-inter`,children:t("footer.copyright")}),a.jsx(r.default,{src:e?"/img/logo-1.png":"/img/logo-2.png",alt:"Language",width:52,height:22,className:"h-5 w-auto"})]})]})})}},7402:(e,t,s)=>{"use strict";s.d(t,{TK:()=>c,Te:()=>o,ub:()=>d});var a=s(326),n=s(772),r=s(1291),i=s(1405),l=s(3211);function c({size:e="md",text:t,className:s=""}){let{t:n}=(0,l.Z)(),r=t||n("common.loading");return(0,a.jsxs)("div",{className:`flex flex-col items-center justify-center ${s}`,children:[a.jsx("div",{className:`animate-spin rounded-full border-b-2 border-[#11295b] ${{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[e]} mb-2`}),r&&a.jsx("p",{className:"text-gray-500 text-sm",children:r})]})}function o({error:e,onRetry:t,retryText:s,className:c=""}){let{t:o}=(0,l.Z)(),d=s||o("common.retry");return(0,a.jsxs)("div",{className:`flex flex-col items-center justify-center ${c}`,children:[a.jsx(r.Z,{className:"h-8 w-8 text-red-500 mb-2"}),a.jsx("p",{className:"text-red-500 mb-4 text-center",children:e}),t&&(0,a.jsxs)(n.z,{onClick:t,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[a.jsx(i.Z,{className:"h-4 w-4"}),d]})]})}function d({title:e,description:t,icon:s,action:n,className:r=""}){return(0,a.jsxs)("div",{className:`flex flex-col items-center justify-center text-center ${r}`,children:[s&&a.jsx("div",{className:"mb-4",children:s}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e}),t&&a.jsx("p",{className:"text-gray-500 mb-4",children:t}),n&&a.jsx("div",{children:n})]})}},6260:(e,t,s)=>{"use strict";s.d(t,{$w:()=>i,ZX:()=>a,iK:()=>r,vR:()=>n});let a={DEFAULT_PAGE:1,DEFAULT_LIMIT:999,MAX_LIMIT:100,REQUEST_TIMEOUT:1e4,MAX_RETRIES:3},n={COLORS:{PRIMARY:"#11295b",PRIMARY_OPACITY_80:"#11295b/80",PRIMARY_OPACITY_60:"#11295b/60",GRAY_100:"bg-gray-100",GRAY_400:"text-gray-400",RED_500:"text-red-500",WHITE:"text-white"},FONTS:{POPPINS:"font-poppins",NUNITO:"font-nunito",INTER:"font-inter"},FONT_WEIGHTS:{SEMIBOLD:"font-semibold",NORMAL:"font-normal"},SIZES:{ICON_SM:"h-3.5 w-3.5",ICON_MD:"h-6 w-6",ICON_LG:"h-7 w-7",ICON_XL:"h-8 w-8"},SPACING:{GAP_2:"gap-2",GAP_4:"gap-4",MB_2:"mb-2",MB_4:"mb-4",MB_6:"mb-6",MY_4:"my-4",PX_6:"px-6",PY_2:"py-2",PY_8:"py-8",PY_12:"py-12",PB_6:"pb-6"},BORDER_RADIUS:{ROUNDED_MD:"rounded-md",ROUNDED_FULL:"rounded-full"},EFFECTS:{OPACITY_50:"opacity-50",OPACITY_80:"/80",OPACITY_60:"/60"}},r={IMAGES:{MAX_THUMBNAILS:3,DEFAULT_IMAGE:"/img/band.png",THUMBNAIL_SIZE:{width:360,height:220},THUMBNAIL_CLASS:"w-full h-28 object-cover rounded-md"},LAYOUT:{GRID_COLS_3:"grid-cols-3",MIN_HEIGHT_DVH:"min-h-dvh",FLEX_COL:"flex-col",FLEX_CENTER:"flex items-center justify-center",FLEX_BETWEEN:"flex items-center justify-between"},TEXT_SIZES:{TITLE:"text-2xl",SUBTITLE:"text-lg",BODY:"text-[15px]",SMALL:"text-sm",XS:"text-xs"}},i={SPIN:"animate-spin",FADE_IN:"animate-fade-in",SLIDE_UP:"animate-slide-up"}},8200:(e,t,s)=>{"use strict";s.d(t,{h:()=>i});var a=s(7577),n=s(5047),r=s(3136);function i(e,t){let[s,i]=(0,a.useState)({data:null,loading:!1,error:null,success:!1}),l=(0,n.useSearchParams)(),{userParams:c}=(0,r.z)(),o=(0,a.useCallback)(()=>{if(c)return c;let e=l.get("userId"),t=l.get("token"),s=l.get("email");return e&&t?{userId:e,token:t,email:s||void 0}:null},[l,c]),d=(0,a.useCallback)(async s=>{let a=s||o();if(!a){t&&i({data:t,loading:!1,error:null,success:!0});return}i(e=>({...e,loading:!0,error:null}));try{let t=await e(a);i({data:t,loading:!1,error:null,success:!0})}catch(e){i({data:t||null,loading:!1,error:e instanceof Error?e.message:"请求失败",success:!1})}},[e,o,t]),x=(0,a.useCallback)(()=>{i({data:null,loading:!1,error:null,success:!1})},[]);return{...s,execute:d,reset:x,userParams:o()}}},173:(e,t,s)=>{"use strict";s.d(t,{tL:()=>r,bG:()=>i.bG});var a=s(7483),n=s(6260);async function r(e){return(0,a.WY)("getmypagelist",{userId:e.userId,token:e.token,page:e.page||n.ZX.DEFAULT_PAGE,limit:e.limit||n.ZX.DEFAULT_LIMIT})}var i=s(2991)},5128:(e,t,s)=>{"use strict";s.d(t,{AK:()=>n});var a=s(7863);function n(...e){return(0,a.cn)(...e.filter(Boolean))}},1890:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},1291:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},7506:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1405:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},2830:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`/Users/jinjing/Desktop/jj/code1/SpinToDiscover/SpinToDiscover/app/personal-center/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[898,728,591,951],()=>s(7147));module.exports=a})();