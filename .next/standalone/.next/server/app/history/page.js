(()=>{var e={};e.id=811,e.ids=[811],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5532:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>d,routeModule:()=>h,tree:()=>c}),t(926),t(3169),t(5866);var i=t(3191),r=t(8716),n=t(7922),a=t.n(n),o=t(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(s,l);let c=["",{children:["history",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,926)),"/Users/jinjing/Desktop/jj/code1/SpinToDiscover/SpinToDiscover/app/history/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,3169)),"/Users/jinjing/Desktop/jj/code1/SpinToDiscover/SpinToDiscover/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/jinjing/Desktop/jj/code1/SpinToDiscover/SpinToDiscover/app/history/page.tsx"],x="/history/page",p={require:t,loadChunk:()=>Promise.resolve()},h=new i.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/history/page",pathname:"/history",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7348:(e,s,t)=>{Promise.resolve().then(t.bind(t,3103))},3103:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b});var i=t(326),r=t(6968),n=t(3723),a=t(3211),o=t(6370),l=t(3136),c=t(4893),d=t(1890),x=t(7506),p=t(1291);let h=(0,t(2881).Z)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var m=t(6226),u=t(5047),j=t(7577),f=t(8200),g=t(2991),y=t(6824),v=t(6260);function b(){let{t:e}=(0,a.Z)(),s=(0,u.useRouter)(),{authInfo:t}=(0,l.a)(),[b,N]=(0,j.useState)([]);(0,j.useRef)(!1);let{data:w,loading:k,error:D,execute:_,userParams:P}=(0,f.h)(async e=>await (0,g.NG)({userId:e.userId,token:e.token,page:v.ZX.DEFAULT_PAGE,limit:v.ZX.DEFAULT_LIMIT}),null),S=e=>{t?.userId&&t?.token?s.push(`/square/${e}?userId=${t.userId}&token=${t.token}`):s.push(`/square/${e}`)},T=({item:s})=>(0,i.jsxs)("div",{className:"mb-6 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>S(s.id),children:[i.jsx("div",{className:"grid grid-cols-3 gap-4 mb-4",children:s.images.slice(0,3).map((e,t)=>(0,i.jsxs)("div",{className:"relative",children:[i.jsx(m.default,{src:(0,y.nJ)(e)||"/img/default-image.png",alt:`history-${t+1}`,width:112,height:112,className:"w-full h-28 object-cover rounded-md",priority:0===t}),0===t&&s.video&&i.jsx("div",{className:"absolute bottom-2 right-2 w-6 h-6 rounded-full bg-[#11295b]/80 flex items-center justify-center",children:i.jsx(c.Z,{className:"w-3 h-3 text-white"})})]},t))}),i.jsx("h3",{className:"text-[18px] font-semibold text-[#11295b] font-poppins mb-2",children:s.title}),i.jsx("p",{className:"text-sm leading-6 text-[#11295b]/80 font-nunito mb-2",children:s.description}),(0,i.jsxs)("div",{className:"flex justify-between text-xs text-[#11295b]/60",children:[i.jsx("span",{className:"font-nunito",children:s.location}),(0,i.jsxs)("span",{className:"font-nunito",children:[e("history.viewedOn")," ",new Date(s.updatedAt).toLocaleDateString()]})]})]});return i.jsx(o.a,{children:(0,i.jsxs)("main",{className:"flex min-h-dvh flex-col bg-white",children:[i.jsx(r.h,{showSearch:!0,showUser:!0}),(0,i.jsxs)("div",{className:"flex justify-between items-center px-6 py-2 z-100",children:[i.jsx("h1",{className:"text-xl font-poppins text-[#0F1728] font-semibold",children:e("personalCenter.menu.history")}),i.jsx("button",{"aria-label":e("history.back"),onClick:()=>s.back(),className:"text-[#0F1728] hover:text-[#0F1728]",children:i.jsx(d.Z,{className:"w-7 h-7 z-10"})})]}),(0,i.jsxs)("section",{className:"px-6 pb-6",children:[k&&(0,i.jsxs)("div",{className:"flex items-center justify-center py-8",children:[i.jsx(x.Z,{className:"w-5 h-5 animate-spin text-[#11295b]"}),i.jsx("span",{className:"ml-2 text-[#11295b] font-nunito",children:e("history.loading")})]}),D&&b.length>0&&(0,i.jsxs)("div",{className:"flex items-center justify-center py-8",children:[i.jsx(p.Z,{className:"w-5 h-5 text-red-500"}),i.jsx("span",{className:"ml-2 text-red-500 font-nunito",children:e("history.error")})]}),!k&&0===b.length&&(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:i.jsx(h,{className:"w-8 h-8 text-gray-400"})}),i.jsx("h3",{className:"text-lg font-semibold text-[#11295b] font-nunito mb-2",children:e("history.noHistory")}),i.jsx("p",{className:"text-[#11295b]/60 font-inter text-center",children:e("history.noHistoryDescription")})]}),!k&&!D&&b.length>0&&i.jsx(i.Fragment,{children:b.map((e,s)=>(0,i.jsxs)("div",{children:[i.jsx(T,{item:e}),s<b.length-1&&i.jsx("div",{className:"border-t border-gray-200 my-4"})]},e.id))})]}),i.jsx(n.$,{})]})})}},926:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});let i=(0,t(8570).createProxy)(String.raw`/Users/jinjing/Desktop/jj/code1/SpinToDiscover/SpinToDiscover/app/history/page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),i=s.X(0,[898,728,591,951,335],()=>t(5532));module.exports=i})();