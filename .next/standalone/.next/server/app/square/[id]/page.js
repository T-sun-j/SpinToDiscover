(()=>{var e={};e.id=473,e.ids=[473],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1091:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>h,tree:()=>c}),s(31),s(3169),s(5866);var a=s(3191),r=s(8716),n=s(7922),i=s.n(n),l=s(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["square",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,31)),"/Users/jinjing/Desktop/jj/code1/SpinToDiscover/SpinToDiscover/app/square/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,3169)),"/Users/jinjing/Desktop/jj/code1/SpinToDiscover/SpinToDiscover/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/jinjing/Desktop/jj/code1/SpinToDiscover/SpinToDiscover/app/square/[id]/page.tsx"],x="/square/[id]/page",m={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/square/[id]/page",pathname:"/square/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5031:(e,t,s)=>{Promise.resolve().then(s.bind(s,4849))},4849:(e,t,s)=>{"use strict";s.d(t,{default:()=>v});var a=s(326),r=s(772),n=s(1890),i=s(7636),l=s(6015),o=s(7427),c=s(5558),d=s(3211),x=s(3136),m=s(6968),h=s(3723),u=s(7577),p=s(5047),f=s(6226),g=s(2991),j=s(6824),y=s(7402),b=s(5792);function v({params:e}){let{t}=(0,d.Z)(),{authInfo:s,isAuthenticated:v}=(0,x.a)(),N=(0,p.useRouter)(),[w,k]=(0,u.useState)(!1),[S,$]=(0,u.useState)(""),[C,q]=(0,u.useState)(!1),[I,L]=(0,u.useState)(!1),[T,F]=(0,u.useState)(!1),[Z,P]=(0,u.useState)(0),[_,A]=(0,u.useState)(0),[D,M]=(0,u.useState)(0),[U,z]=(0,u.useState)(!1),[E,R]=(0,u.useState)(!1),[B,G]=(0,u.useState)(!1),[W,H]=(0,u.useState)(null),[K,J]=(0,u.useState)(!1),[V,O]=(0,u.useState)(null),[Q,X]=(0,u.useState)([]),[Y,ee]=(0,u.useState)(0),[et,es]=(0,u.useState)(null),[ea,er]=(0,u.useState)(!1),[en,ei]=(0,u.useState)(""),el=(0,u.useCallback)(async e=>{if(!s?.userId||!s?.token){es(null);return}er(!0),ei("");try{let a=await (0,g.mG)({userId:s.userId,token:s.token,postId:e});a.success&&a.data?(Array.isArray(a.data.comments)||(a.data.comments=[]),es(a.data),P(a.data.interactions?.likes||0),A(a.data.interactions?.collects||0),M(a.data.interactions?.shares||a.data.shares||0),q(a.data.interactions?.userLiked||!1),L(a.data.interactions?.userCollected||!1)):ei(t("square.loadDetailFailed"))}catch(e){ei(t("square.loadDetailError"))}finally{er(!1)}},[s]),eo=async()=>{if(S.trim()&&s?.userId&&s?.token&&!E){R(!0);try{(await (0,g.w)({userId:s.userId,token:s.token,productId:e.id,parentId:W?.id,content:S.trim()})).success?($(""),H(null),el(e.id)):alert(t("square.commentSubmitFailed"))}catch(e){console.error("评论提交失败:",e),alert(t("square.commentSubmitFailed"))}finally{R(!1)}}},ec=async()=>{if(s?.userId&&s?.token&&!U){z(!0);try{console.log("isLiked",C),(await (0,g.v1)({userId:s.userId,token:s.token,productId:e.id,isLove:C?1:0})).success?(q(!C),P(e=>C?e-1:e+1)):alert(t("square.operationFailed"))}catch(e){console.error("点赞失败:",e),alert(t("square.operationFailed"))}finally{z(!1)}}},ed=async()=>{if(s?.userId&&s?.token&&!U){z(!0);try{(await (0,g.gQ)({userId:s.userId,token:s.token,productId:e.id,isCollect:I?1:0})).success?(L(!I),A(e=>I?e-1:e+1)):alert(t("square.operationFailed"))}catch(e){console.error("收藏失败:",e),alert(t("square.operationFailed"))}finally{z(!1)}}},ex=async()=>{if(s?.userId&&s?.token)try{await (0,g._Z)({userId:s.userId,token:s.token,productId:e.id}),M(e=>e+1)}catch(e){console.error("分享接口调用失败:",e)}if(et&&navigator.share)try{await navigator.share({title:et.title||"Untitled",text:et.description||"",url:window.location.href})}catch(e){"AbortError"!==e.name&&console.error("分享失败:",e)}else try{await navigator.clipboard.writeText(window.location.href),alert(t("square.linkCopied"))}catch(e){console.error("复制链接失败:",e)}},em=(e,t,s)=>{X(t),ee(s),O(e),J(!0)},eh=()=>{J(!1),O(null),X([]),ee(0)},eu=()=>{if(Y>0){let e=Y-1;ee(e),O(Q[e])}},ep=()=>{if(Y<Q.length-1){let e=Y+1;ee(e),O(Q[e])}},ef=()=>{G(!1)};if(ea)return a.jsx("div",{className:"min-h-screen bg-white",children:(0,a.jsxs)("main",{className:"flex min-h-[100vh] flex-col",children:[a.jsx(m.h,{showSearch:!0,showUser:!0,logoLink:"/square"}),a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsx(y.TK,{size:"lg",text:t("common.loading")})}),a.jsx(h.$,{})]})});if(en&&!et)return a.jsx("div",{className:"min-h-screen bg-white",children:(0,a.jsxs)("main",{className:"flex min-h-[100vh] flex-col",children:[a.jsx(m.h,{showSearch:!0,showUser:!0,logoLink:"/square"}),a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsx(y.Te,{error:en,onRetry:()=>v&&el(e.id)})}),a.jsx(h.$,{})]})});if(!et&&!ea&&!en)return a.jsx("div",{className:"min-h-screen bg-white",children:(0,a.jsxs)("main",{className:"flex min-h-[100vh] flex-col",children:[a.jsx(m.h,{showSearch:!0,showUser:!0,logoLink:"/square"}),a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsx(y.ub,{title:"",action:v?void 0:a.jsx(r.z,{onClick:()=>N.push("/login"),className:"bg-gradient-to-r from-orange-500 to-pink-500 text-white hover:from-orange-600 hover:to-pink-600 text-[17px] font-poppins font-semibold",children:t("square.loginRequiredForDetail")})})}),a.jsx(h.$,{})]})});if(!et)return null;let eg=(et.images||[]).filter(e=>!!e&&""!==e.trim()),ej=et.video||w?w?eg.length:1:2,ey=w?eg:eg.slice(0,ej);return(0,a.jsxs)("div",{className:"min-h-screen bg-white",children:[a.jsx("svg",{className:"absolute w-0 h-0",children:(0,a.jsxs)("defs",{children:[(0,a.jsxs)("linearGradient",{id:"bookmark-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[a.jsx("stop",{offset:"0%",stopColor:"#eab308"}),a.jsx("stop",{offset:"100%",stopColor:"#f97316"})]}),(0,a.jsxs)("linearGradient",{id:"heart-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[a.jsx("stop",{offset:"0%",stopColor:"#FD9507"}),a.jsx("stop",{offset:"100%",stopColor:"#CE14B0"})]})]})}),(0,a.jsxs)("main",{className:" flex min-h-[100vh] flex-col",children:[a.jsx(m.h,{showSearch:!0,showUser:!0,logoLink:"/square"}),(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-4",children:[a.jsx("h1",{className:"text-xl font-poppins text-[#12295B] italic font-semibold",children:et.title||"Untitled"}),a.jsx("button",{onClick:()=>{N.back()},className:"text-[#0F1728] hover:text-[#0F1728]",children:a.jsx(n.Z,{className:"h-7 w-7 z-10"})})]}),(0,a.jsxs)("div",{className:"flex-1 px-4 space-y-5",children:[(0,a.jsxs)("div",{className:"flex items-center ",children:[(0,a.jsxs)("button",{onClick:()=>{et&&et.publisher?.id&&N.push(`/personal/${et.publisher.id}`)},className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[a.jsx("img",{src:`${j.bl.STATIC_URL}${et.publisher?.avatar||""}`,alt:et.publisher?.nickname||"User",className:"w-9 h-9 rounded-full object-cover bg-gray-300"}),a.jsx("span",{className:"font-sm text-[#0F1728] font-nunito",children:et.publisher?.nickname||"Unknown User"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 ml-auto",children:[a.jsx(i.Z,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"text-sm text-gray-600 font-nunito",children:et.location||"Unknown Location"})]})]}),a.jsx("p",{className:"text-[#20313B] leading-relaxed text-sm font-inter",children:et.description}),et.video&&(0,a.jsxs)("div",{className:"relative w-full h-64 bg-gray-200 rounded-sm overflow-hidden cursor-pointer",onClick:()=>{G(!0)},children:[a.jsx("video",{src:`${j.bl.STATIC_URL}${et.video}`,className:"w-full h-full object-cover",muted:!0,preload:"metadata",onLoadedMetadata:e=>{e.currentTarget.currentTime=.1}}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-opacity-30",children:a.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-90 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-8 h-8 text-gray-800 ml-0.5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M8 5v14l11-7z"})})})})]}),eg.length>0&&(0,a.jsxs)("div",{className:"space-y-4",children:[ey.map((e,t)=>{let s=`${j.bl.STATIC_URL}${e}`,r=eg.map(e=>`${j.bl.STATIC_URL}${e}`),n=t===ey.length-1,i=!w&&eg.length>ey.length&&n;return(0,a.jsxs)("div",{className:"relative w-full h-64 rounded-sm bg-gray-200 overflow-hidden group cursor-pointer",onClick:e=>{e.stopPropagation(),em(s,r,t)},children:[a.jsx(b.d,{src:s,alt:`Gallery image ${t+1}`,className:"w-full h-full object-cover transition-transform group-hover:scale-105",onError:()=>{console.error(`Failed to load image: ${s}`)}}),i&&a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white via-white/30 to-transparent pointer-events-none"})]},t)}),(w||eg.length>ey.length)&&a.jsx("div",{className:"flex justify-center",children:a.jsx("button",{onClick:()=>k(!w),className:"flex items-center gap-2 text-gray-600 hover:text-gray-800",children:a.jsx(f.default,{src:"/img/show.png",alt:"Show",width:20,height:20,className:`h-9 w-9 transition-transform ${w?"rotate-180":""}`})})})]}),et.brandInfo&&(0,a.jsxs)("div",{className:"space-y-4",children:[et.brandInfo.website&&(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:"/img/Icon-website.svg",alt:"Website",className:"h-9 w-9"}),a.jsx("a",{href:et.brandInfo.website.startsWith("http")?et.brandInfo.website:`https://${et.brandInfo.website}`,className:"text-[#0F1728] hover:underline text-sm font-semibold font-poppins",target:"_blank",rel:"noopener noreferrer",children:et.brandInfo.brand})]}),et.brandInfo&&(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx("img",{src:"/img/Icon-introduction.svg",alt:"Introduction",className:"h-9 w-9 pl-1"}),(0,a.jsxs)("div",{className:"flex-1",children:[et.brandInfo.intro&&a.jsx("p",{className:"text-xs text-[#0F1728] font-normal font-inter pt-1 leading-relaxed",children:et.brandInfo.intro}),et.brandInfo.customerService?(0,a.jsxs)("p",{className:"text-xs mt-6 text-[#0F1728] font-inter",children:[(0,a.jsxs)("span",{className:"font-semibold mr-1",children:[t("personalPage.customerServiceHotline"),":"]}),et.brandInfo.customerService]}):null,et.brandInfo.workHour?(0,a.jsxs)("p",{className:"text-xs text-[#0F1728] font-inter",children:[(0,a.jsxs)("span",{className:"font-semibold mr-1",children:[t("personalPage.workHour"),":"]}),et.brandInfo.workHour]}):null,et.brandInfo.email?(0,a.jsxs)("p",{className:"text-xs text-[#0F1728] font-inter",children:[(0,a.jsxs)("span",{className:"font-semibold mr-1",children:[t("personalPage.email"),":"]}),et.brandInfo.email]}):null,et.brandInfo.address?(0,a.jsxs)("p",{className:"text-xs text-[#0F1728] font-inter",children:[(0,a.jsxs)("span",{className:"font-semibold mr-1",children:[t("personalPage.address"),":"]}),et.brandInfo.address]}):null]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-8 px-10 ",children:[(0,a.jsxs)("button",{onClick:ed,disabled:U||!v,className:`flex items-center gap-2 transition-colors ${I?"bg-gradient-to-r from-yellow-500 to-orange-500 bg-clip-text text-transparent":"text-[#0F1728] hover:text-gray-800"} ${U||!v?"opacity-50 cursor-not-allowed":""}`,title:v?"":t("square.pleaseLoginFirst"),children:[a.jsx(l.Z,{className:"h-6 w-6",style:I?{fill:"url(#bookmark-gradient)"}:{}}),a.jsx("span",{className:`text-sm font-nunito ${I?"bg-gradient-to-r from-yellow-500 to-orange-500 bg-clip-text text-transparent":""}`,children:_.toLocaleString()})]}),a.jsx("div",{className:"h-2 w-px bg-gray-600"}),(0,a.jsxs)("button",{onClick:ec,disabled:U||!v,className:`flex items-center gap-2 transition-colors ${C?"bg-gradient-to-r from-orange-500 to-pink-500 bg-clip-text text-transparent":"text-[#0F1728] hover:text-red-500"} ${U||!v?"opacity-50 cursor-not-allowed":""}`,title:v?"":t("square.pleaseLoginFirst"),children:[a.jsx(o.Z,{className:"h-6 w-6",style:C?{fill:"url(#heart-gradient)"}:{}}),a.jsx("span",{className:`text-sm font-nunito ${C?"bg-gradient-to-r from-orange-500 to-pink-500 bg-clip-text text-transparent":""}`,children:Z.toLocaleString()})]}),a.jsx("div",{className:"h-2 w-px bg-gray-600"}),(0,a.jsxs)("button",{onClick:ex,className:"flex items-center gap-2 text-[#0F1728] hover:text-gray-800 transition-colors",children:[a.jsx(c.Z,{className:"h-6 w-6"}),a.jsx("span",{className:"text-sm font-nunito text-[#0F1728]",children:D||t("square.share")})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("div",{className:"",style:{borderBottom:"1px solid #e5e7eb"}}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"text-sm font-nunito text-gray-900",children:t("square.comments")}),(0,a.jsxs)("span",{className:"text-sm text-gray-500 font-nunito",children:["(",(et.comments||[]).length,")"]})]}),a.jsx(f.default,{src:"/img/chat.png",alt:"Chat",width:24,height:24,className:"h-5 w-5",onClick:()=>{H(null),$(""),setTimeout(()=>{let e=document.querySelector('input[type="text"]');e?.focus()},100)}})]}),a.jsx("div",{className:"space-y-4",children:Array.isArray(et.comments)&&et.comments.length>0?et.comments.map((e,t)=>{let s=e.id||`comment-${t}`,r=e.author?.nickname||"Anonymous",n=e.author?.avatar||"",i=e.content||"",l=e.replies||0,o=e.replyList||[],c=e.createdAt||"";return(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex gap-3",children:[a.jsx(b.d,{src:(0,j.nJ)(n||et.publisher?.avatar),alt:"avatar",className:"w-9 h-9 rounded-full flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900 font-inter",children:r}),c&&a.jsx("span",{className:"text-xs text-gray-500 font-inter",children:c})]}),(0,a.jsxs)("button",{onClick:()=>{H({id:s,nickname:r}),setTimeout(()=>{let e=document.querySelector('input[type="text"]');e?.focus()},100)},className:"flex items-center gap-1 text-gray-500 hover:text-gray-700 text-xs",children:[a.jsx(f.default,{src:"/img/chat.png",alt:"Reply",width:16,height:16,className:"h-5 w-5"}),l>0&&(0,a.jsxs)("span",{className:"text-gray-400 font-inter",children:["(",l,")"]})]})]}),a.jsx("p",{className:"text-gray-700 mb-2 text-xs font-inter leading-relaxed",children:i})]})]}),Array.isArray(o)&&o.length>0&&a.jsx("div",{className:"ml-11 space-y-3 pl-4",children:o.map((e,s)=>{let r=e.id||`reply-${t}-${s}`,n=e.author?.nickname||"Anonymous",i=e.author?.avatar||"",l=e.content||"",o=e.createdAt||"";return(0,a.jsxs)("div",{className:"flex gap-3",children:[a.jsx(b.d,{src:(0,j.nJ)(i||et.publisher?.avatar),alt:"avatar",className:"w-9 h-9 rounded-full flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("div",{className:"flex items-center justify-between mb-1",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900 font-inter",children:n}),o&&a.jsx("span",{className:"text-xs text-gray-500 font-inter",children:o})]})}),a.jsx("p",{className:"text-gray-700 text-xs font-inter leading-relaxed",children:l})]})]},r)})})]},s)}):a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-500 font-inter text-base",children:t("square.noComments")})})}),a.jsx("div",{className:"pt-4 ",children:a.jsx("div",{className:"flex gap-3",children:(0,a.jsxs)("div",{className:"flex-1 flex gap-2",children:[a.jsx("input",{type:"text",value:W?`${t("square.replyingTo")} ${W.nickname}：${S}`:S,onChange:e=>{if(W){let s=`${t("square.replyingTo")} ${W.nickname}：`;if(e.target.value.startsWith(s))$(e.target.value.slice(s.length));else{if(e.target.value.length<s.length)return;$(e.target.value.slice(s.length))}}else $(e.target.value)},onKeyDown:e=>{if(W){let s=`${t("square.replyingTo")} ${W.nickname}：`,a=e.currentTarget;null!==a.selectionStart&&a.selectionStart<s.length&&("Backspace"===e.key||"Delete"===e.key)&&(e.preventDefault(),setTimeout(()=>{a.setSelectionRange(s.length,s.length)},0))}},placeholder:v?W?`${t("square.replyingTo")} ${W.nickname}：`:t("square.inputComments"):t("square.pleaseLoginFirst"),disabled:!v||E,onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),eo())},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed bg-gray-100 text-gray-900 placeholder-gray-500",style:{border:"1px solid #d1d5db",backgroundColor:"#f3f4f6",color:"#111827"}}),a.jsx("button",{onClick:eo,disabled:!v||!S.trim()||E,className:`flex items-center justify-center transition-opacity ${v&&S.trim()&&!E?"":"cursor-not-allowed"}`,children:a.jsx(f.default,{src:"/img/send.png",alt:"Send",width:24,height:24,className:"h-6 w-6"})})]})})})]})]}),a.jsx(h.$,{})]}),B&&et.video&&a.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"relative w-full h-full flex items-center justify-center",children:[a.jsx("button",{onClick:ef,className:"absolute top-4 right-4 z-10 w-10 h-10 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),a.jsx("video",{src:`${j.bl.STATIC_URL}${et.video}`,className:"max-w-full max-h-full object-contain",controls:!0,autoPlay:!0,onEnded:ef,onError:e=>{console.error("视频播放失败:",e),ef()}})]})}),K&&V&&a.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center",onClick:eh,children:(0,a.jsxs)("div",{className:"relative w-full h-full flex items-center justify-center",children:[a.jsx("button",{onClick:eh,className:"absolute top-4 right-4 z-10 w-10 h-10 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),Y>0&&a.jsx("button",{onClick:e=>{e.stopPropagation(),eu()},className:"absolute left-4 z-10 w-10 h-10 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),Y<Q.length-1&&a.jsx("button",{onClick:e=>{e.stopPropagation(),ep()},className:"absolute right-4 z-10 w-10 h-10 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),a.jsx("div",{className:"max-w-full max-h-full flex items-center justify-center px-16",onClick:e=>e.stopPropagation(),children:a.jsx("img",{src:V,alt:"Preview",className:"max-w-full max-h-full object-contain"})}),Q.length>1&&(0,a.jsxs)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 z-10 bg-black bg-opacity-50 text-white px-4 py-2 rounded-full text-sm",children:[Y+1," / ",Q.length]})]})})]})}},3723:(e,t,s)=>{"use strict";s.d(t,{$:()=>o});var a=s(326),r=s(3211),n=s(6226);function i({transparent:e=!1}){let{language:t,setLanguage:s}=(0,r.Z)();return(0,a.jsxs)("button",{onClick:()=>{s("en"===t?"zh":"en")},className:`flex items-center ${e?"text-white":"text-[#0F1728]"} hover:opacity-80 transition-opacity`,"aria-label":`Switch to ${"en"===t?"Chinese":"English"}`,children:[a.jsx(n.default,{src:e?"/img/lang.png":"/img/lang-d.png",alt:"Language",width:24,height:24,className:"h-4 w-4"}),a.jsx("span",{className:`text-[10px] font-medium ml-1 ${e?"text-white":"text-[#0F1728]"}`,children:"en"===t?"EN":"CN"})]})}var l=s(434);function o({transparent:e=!1}){let{t}=(0,r.Z)();return a.jsx("footer",{className:`mt-auto text-[10px] py-4 px-4 w-full font-inter ${e?"text-white":"text-[#0F1728]"}`,children:(0,a.jsxs)("div",{className:"flex justify-between items-center w-full",children:[a.jsx("div",{className:"flex items-center gap-2 font-inter",children:a.jsx(i,{transparent:e})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[a.jsx(l.default,{href:"/about",className:`${e?"text-white":"text-[#0F1728]"} font-inter`,children:t("footer.links.about")}),a.jsx(l.default,{href:"/privacy",className:`${e?"text-white":"text-[#0F1728]"} font-inter`,children:t("footer.links.privacy")}),a.jsx("span",{className:`${e?"text-white":"text-[#0F1728]"} font-inter`,children:t("footer.copyright")}),a.jsx(n.default,{src:e?"/img/logo-1.png":"/img/logo-2.png",alt:"Language",width:52,height:22,className:"h-5 w-auto"})]})]})})}},7402:(e,t,s)=>{"use strict";s.d(t,{TK:()=>o,Te:()=>c,ub:()=>d});var a=s(326),r=s(772),n=s(1291),i=s(1405),l=s(3211);function o({size:e="md",text:t,className:s=""}){let{t:r}=(0,l.Z)(),n=t||r("common.loading");return(0,a.jsxs)("div",{className:`flex flex-col items-center justify-center ${s}`,children:[a.jsx("div",{className:`animate-spin rounded-full border-b-2 border-[#11295b] ${{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[e]} mb-2`}),n&&a.jsx("p",{className:"text-gray-500 text-sm",children:n})]})}function c({error:e,onRetry:t,retryText:s,className:o=""}){let{t:c}=(0,l.Z)(),d=s||c("common.retry");return(0,a.jsxs)("div",{className:`flex flex-col items-center justify-center ${o}`,children:[a.jsx(n.Z,{className:"h-8 w-8 text-red-500 mb-2"}),a.jsx("p",{className:"text-red-500 mb-4 text-center",children:e}),t&&(0,a.jsxs)(r.z,{onClick:t,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[a.jsx(i.Z,{className:"h-4 w-4"}),d]})]})}function d({title:e,description:t,icon:s,action:r,className:n=""}){return(0,a.jsxs)("div",{className:`flex flex-col items-center justify-center text-center ${n}`,children:[s&&a.jsx("div",{className:"mb-4",children:s}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e}),t&&a.jsx("p",{className:"text-gray-500 mb-4",children:t}),r&&a.jsx("div",{children:r})]})}},5792:(e,t,s)=>{"use strict";s.d(t,{d:()=>i});var a=s(326),r=s(7577);let n=(0,s(2881).Z)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);function i({src:e,alt:t,className:s="",fallbackSrc:i="/img/band.png",loading:l="lazy",onError:o,onLoad:c}){let[d,x]=(0,r.useState)(!1),[m,h]=(0,r.useState)(!0);return d?a.jsx("div",{className:`bg-gray-200 flex items-center justify-center ${s}`,children:a.jsx(n,{className:"h-8 w-8 text-gray-400"})}):(0,a.jsxs)("div",{className:`relative ${s}`,children:[m&&a.jsx("div",{className:"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center",children:a.jsx(n,{className:"h-8 w-8 text-gray-400"})}),a.jsx("img",{src:e,alt:t,className:`${s} ${m?"opacity-0":"opacity-100"} transition-opacity duration-300`,loading:l,onError:()=>{x(!0),h(!1),o?.()},onLoad:()=>{h(!1),c?.()}})]})}},6015:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]])},1890:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},1291:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},7427:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])},7636:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},1405:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},5558:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("square-arrow-out-up-right",[["path",{d:"M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6",key:"y09zxi"}],["path",{d:"m21 3-9 9",key:"mpx6sq"}],["path",{d:"M15 3h6v6",key:"1q9fwt"}]])},31:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var a=s(9510);let r=(0,s(8570).createProxy)(String.raw`/Users/jinjing/Desktop/jj/code1/SpinToDiscover/SpinToDiscover/app/square/[id]/SquareDetailClient.tsx#default`);function n({params:e}){return a.jsx(r,{params:e})}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[898,728,591,951],()=>s(1091));module.exports=a})();